---
layout: post
title: ダブルクォートの中の変数展開は、どこまで正しく動作する？
date: 2018-12-10 02:43:04
categories: unix sh posix
---
<p>たとえば、次のような形式で擬似 cp をシェルスクリプトで作成したとします。</p>

```
#!/bin/sh

content=$(cat "$1")
printf '%s\n' "$content" &gt; "$2"
```

<p>これは、だいたいのケースで、第２引数のパスへと作成されたファイルの中身と、第１引数のパスで指定されていたもともとのファイルの差分はなくなると思っていますが、はたして、ありとあらゆるファイルに対してそれは成立するのか、と疑問に思いました。</p>

<h3>質問</h3>

<ul>
<li>一旦変数で(標準)入力を受け取って、それをダブルクォートの中で変数展開してどこかに書き出す場合、その出力内容は、もともとの入力内容から、変化する場合はありますか？変化するとして、どのような場合に変化してしまうのでしょうか？</li>
</ul>
