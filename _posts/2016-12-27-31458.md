---
layout: post
title: "C# タイトルバー以外の場所でフォームをドラッグさせる方法について"
date: 2016-12-27 07:09:01
categories: c# winforms
---
<p>お世話になります。</p>

<p>タイトルバーを持たないフォームでドラッグ移動をさせようと、下記のサイト様<br>
<a href="http://dobon.net/vb/dotnet/form/moveform.html" rel="nofollow noreferrer">http://dobon.net/vb/dotnet/form/moveform.html</a><br>
を拝見してソースを組んでいるのですが、二つ目のサンプル、コントロール上でも<br>
移動できるようにするでは、すべてが同じフォームの中に存在しているので、<br>
このコードでもできると思うのですが、自分で別にクラス化したユーザコントロールを<br>
貼り付けた場合、どのようなコードにすればよいでしょうか。<br>
<a href="https://i.stack.imgur.com/O9PEj.png" rel="nofollow noreferrer"><img src="https://i.stack.imgur.com/O9PEj.png" alt="画像の説明をここに入力"></a><br>
既にクラス化されているので、図のようにラベルやピクチャボックスに後から<br>
MouseDownやMouseMoveの処理を追加することはできません。それなら、<br>
クラス化するときにラベルやピクチャボックスにMouseDownやMouseMoveの処理を<br>
追加しておけばよいかというと、本来必要でない(フォームではないので、<br>
持って動かすという処理はこの時点では必要ない)処理を入れるのはふさわしくないと<br>
思います。</p>

<p>やはり、この自作のユーザーコントロールをフォームに張り付けた後、<br>
フォーム側のコードからMouseDownやMouseMoveの処理を実装したいのですが、<br>
通常通りにやると、ラベルやピクチャボックスでドラッグすると、<br>
それらのコントロールにマウス処理が働いてしまい、うまくいきません。<br>
サンプルに書かれてある内容通りです。</p>

<p>力ずくでやるのであれば、ラベルやピクチャボックスにフォームからアクセスすれば<br>
できそうではありますが、あまりきれいなコードにはならないと思っています。</p>

<p>図のラベルやピクチャボックスの場所でも、ドラッグ移動できるようにするきれいな方法を<br>
ご教授いただけますでしょうか。</p>

<p>よろしくお願いいたします。</p>
