---
layout: post
title: packer でエラーが発生した場合に、ビルド中のコンテナ・インスタンスを削除しないようにするには？
date: 2016-06-03 14:40:27
categories: packer
---
<!-- {% raw %} -->
<p>packer build の provisioner でエラーが発生した場合には、異常終了したという結果を残し、イメージをビルドするのに使われていたコンテナ・インスタンスは削除されます。</p>

<p>これだと、何が原因で落ちたのかが、標準出力の情報以上の情報を取得することができずに、下手すると途方にくれてしまいます。</p>

<p>何が原因かを調査したいため、この異常終了の際にもコンテナ・インスタンスを削除しないようにしたいです。</p>

<p>これは、どうやったら実現できますでしょうか。</p>
<!-- {% endraw %} -->
