---
layout: post
title: カンマ区切りをユーザーの入力通りに入れ込む方法が分かりません。
date: 2017-07-04 16:25:17
categories: javascript
---
<p>javascriptでの質問です。<br>
入力された値によりカンマ区切りの位置を変動させたいのですが、カンマが反映されません。<br>
正規表現を使用して以下のように現在やっているのですが、<br>
どうすればカンマをユーザー指定でつけられるようになりますでしょうか。<br>
以下ソースコードです。</p>

<p>kanがユーザーが指定するカンマ区切りの数値を取得した変数です。<br>
inpが数値が入力されたものを取得した変数です。<br>
disが値を表示する変数です。</p>

<p>例：ユーザー→３を入力<br>
　　数値：123,456,789<br>
   ユーザー→２を入力<br>
　　数値：1,23,45,67,89</p>

<pre><code>rep = new RegExp(kan);
inp = inp.toString().replace(/(\d)(?=(\d{rep})+$)/g , '$1,');
dis.value = inp;
</code></pre>

<p>上記のように正規表現の中に変数を代入していますが、<br>
これが動きません。<br>
RegExpの使い方自体が間違っているのでしょうか。</p>

<p>※上記の変数[rep]を入れている箇所に数値を自分で入力すると、<br>
正常に入力した値通りカンマがつけられます。</p>

<p>教えていただけないでしょうか。<br>
宜しくお願い致します。</p>
