---
layout: post
title: 第一級関数の条件でruntimeで生成できることは何処に使える条件ですか？
date: 2016-02-02 05:47:14
categories: c++
---
<!-- {% raw %} -->
<p>first class の条件は<a href="https://ja.wikipedia.org/wiki/%E7%AC%AC%E4%B8%80%E7%B4%9A%E3%82%AA%E3%83%96%E3%82%B8%E3%82%A7%E3%82%AF%E3%83%88" rel="nofollow">Wikipedia</a>によると</p>

<ul>
<li>無名のリテラルとして表現可能である。</li>
<li>変数に格納可能である。</li>
<li>データ構造に格納可能である。</li>
<li>それ自体が独自に存在できる（名前とは独立している）。</li>
<li>他のものとの等値性の比較が可能である。</li>
<li>プロシージャや関数のパラメータとして渡すことができる。</li>
<li>プロシージャや関数の戻り値として返すことができる。</li>
<li>実行時に構築可能である。</li>
<li>表示可能である。</li>
<li>読み込むことができる。</li>
<li>分散したプロセス間で転送することができる。</li>
<li>実行中のプロセスの外に保存することができる。</li>
</ul>

<p>だそうですが、c++の場合は</p>

<ul>
<li>無名のリテラルとして表現可能である。 : lambdaを使えば可能</li>
<li>変数に格納可能である。: funtion objectが存在</li>
<li>それ自体が独自に存在できる（名前とは独立している）。: 関数literalの条件とさほど変わらない条件だと考えます。</li>
<li>他のものとの等値性の比較が可能である。: function objectの比較を考えるのなら、一応可能だと言っていいと思います。しかし、関数をデータ構造そのものとして考える場合は無理でしょう。</li>
<li>プロシージャや関数のパラメータとして渡すことができる。: 可能</li>
<li>プロシージャや関数の戻り値として返すことができる。: 可能</li>
</ul>

<p>はだいたい満足するのではないか、と思います。上記により、第一級関数を扱える場合の嬉しいものとしてよく言われるclosureみたいのなら、c++でも実装可能になります。</p>

<p>では残った条件として：</p>

<ul>
<li>表示可能である。: 曖昧な言葉ですが、データ構造の表示を意味しているのなら、できないでしょう。そもそもruntimeで関数のデータ構造をいじったり見たりすることはc++ではできませんので。</li>
<li>読み込むことができる。: これもまた曖昧ですが、上記と同じようなことだとおもいます。</li>
<li>分散したプロセス間で転送することができる。</li>
<li>データ構造に格納可能である。：これは上記と合わせてhomoiconityについて述べているようですが、曖昧です。しかし、homoiconityが満足されれば一応、これは満足できるものです。</li>
<li>実行時に構築可能である。</li>
<li>実行中のプロセスの外に保存することができる。</li>
</ul>

<p>がありますが、上記は大体、関数をruntimeで生成できないこと、つまり関数がデータ構造として扱われないことによるものです。しかし、他の言語で関数をruntimeで生成できるからと言って、特にc++の使い方とさほど変わらないような気がします。あるとしたらevalみたいな関数が実行時に柔軟に存在できるぐらいではないでしょうか。runtimeで関数が生成できるとどのような使い方ができますか？</p>
<!-- {% endraw %} -->
