---
layout: post
title: "Ajaxの連続リクエストをJavaで防ぐ方法"
date: 2017-10-24 11:07:28
categories: java ajax
---
<p>Ajaxの連続リクエストをJavaで防ぐ方法について質問させて頂きます。</p>

<p>まず、Ajaxの処理はデータの更新を行います。</p>

<p>現状、画面側ではAjax実行ボタンに対して、javascriptでボタン押下～Ajax処理終了までボタンを非活性にしていますが、javascriptは開発者ツール等で簡単に書き換えられてしまうので、java側でも連続リクエストに対する制御を入れたいと考えております。</p>

<p>そこで、セッションに処理中フラグを持たせ制御する方法を考えたのですが、セッション書き換えやセッションのフラグチェック時に生じるわずかなタイミングで、完全に制御することは難しいそうに感じました。</p>



<pre class="lang-html prettyprint-override"><code>// フラグが生成されていない場合
if(session.getAttr() == null){
  ↓
  この間に別の保存処理が実行されると可能性がある
  ↓
  session.setAttr(フラグ生成)

  保存処理実行

// フラグが生成されている場合
}else{

  保存処理をスキップ
}
</code></pre>

<p>制御方法の分かる方がいましたら、ご教授をお願い致します。</p>

<p>因みに、Java8のSpring-bootを使用しています。</p>
