---
layout: post
title: "Spresense SDK環境でのキャラクターLCD表示"
date: 2019-10-28 01:02:49
categories: spresense
---
<p>Spresense SDK 環境でI2C接続をしたキャラクターLCDに文字を表示をさせようとしていますが、プログラミングの資料や前例が見つかりません。ソースコードそのものの例がなくとも、せめて何を呼び出せばよいかが分かればよいのですが、どなたかご存知でしょうか？</p>

<p>10月29日追記<br>
arduinoでのLCD表示例はすでに見つけているのですが、arduinoとSupresense SDKとの変換で詰まってしまっています(SDKのライブラリを探して右往左往している段階)。同じく秋月電子で購入した温度センサーLMT01LPGを使用して温度を測定しようとしたのですが、arduinoだとGPIO入力でのチャタリングフィルタの解除方法が分からず動作するものができなかったのでSDKでプログラムしています(SDKでの温度取得はすでに成功しています)。この手のマイコンボードのプログラミング自体初めてでarduino自体正直よくわかっていません。申し訳ありません。</p>

<p>10月30日追記<br>
SDK環境の場合I2Cポートの選択や設定はソースコード上ではなく「カーネルコンフィグ」、「SDKコンフィグ」でソースファイルとは別に行うという事とI2C接続でのキャラクターLCDドライバーとして「pcf8574_lcd_backpack.h」が用意されていることがわかりました。また、「pcf8574_lcd_backpack.txt」にある程度使い方が書いてありました。しかし、細かい使い方がまだ理解できていません。使ったことのある方アドバイス願えますでしょうか？</p>

<p>11月10日追記<br>
LCDドライバー「pcf8574_lcd_backpack.h」を使用しようとするとカーネルパニックが発生し動作が停止します。原因を調べていくうちにデバイスパス(例「/dev/lcd0」)が生成できていないことが判明しました。どうもlcdデバイスを初期化する必要があるようですが、必要なコマンドがわかりません。どなたかご存知でしょうか？今の段階では<br>
int board_i2cdev_initialize(void);<br>
FAR struct lcd_dev_s *board_lcd_getdev(int lcddev);<br>
を使用すればよいのか？という認識ですが実際の使い方が理解できていません。</p>
