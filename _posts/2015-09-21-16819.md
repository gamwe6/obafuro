---
layout: post
title: Google Docsファイルの差分と編集者の取得
date: 2015-09-21 12:29:03
categories: google-api google-drive-sdk
---
<!-- {% raw %} -->
<p>こんにちは。</p>

<p>いまGoogle Drive APIを使って、Google Drive上にあるGoogle Docファイルの</p>

<ul>
<li>リビジョン毎の差分</li>
<li>誰がいつどのように編集したか</li>
</ul>

<p>を取得できないか調査しています。</p>

<p>リファレンスを読んだところ、<code>Revisions.list()</code>メソッドはファイルのリビジョン（改訂）を返すようですが、どうやら前回との差分は返してくれません。<br>
APIはリビジョンごとのファイルを取得できるURLを返してくるので、リビジョンごとのファイルをそのURLを通じて（テキスト形式などで）ダウンロードし、比較することで差は取れそうですが、問題は誰が編集したか。<br>
例え１つのファイルを複数人が同時に編集していたとしても、一人分の情報（おそらく一番最後に編集した人の情報）しか、APIで返してこないのです。<br>
編集者が複数人いた場合はその全員の情報（それぞれ誰がいつ、どんなふうに内容を変更したか（文章の追加／編集／削除）がほしいのです。</p>

<p>Google Drive APIのどれかを使ってそのような情報を取得することは可能でしょうか。<br>
また、APIでそのような情報を直接取得できなくても、他の方法で取得できる方法はないでしょうか。<br>
例えば、.docxとしてリビジョンごとのファイルをダウンロードし、そのあとゴニョゴニョすると目的の情報が手に入る、といったような・・・プログラムで実行可能な方法であれば何でもかまいません。</p>

<p>どなたかご存じの方がいましたら教えていただければ幸いです。</p>
<!-- {% endraw %} -->
