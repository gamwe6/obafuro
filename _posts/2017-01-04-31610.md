---
layout: post
title: Edge で JS のキー入力のタイミングがずれる現象？
date: 2017-01-04 09:15:48
categories: javascript html5
---
<!-- {% raw %} -->
<p>ブラウザの Edge で JavaScript でキー入力を受け取る時、<br>
たまにタイミングがおかしくなるのは気のせいなのでしょうか？</p>

<p>一番わかりやすい例だと、方向キーの右を押しっぱなしにして、<br>
方向キーの上を押したり離したりすると、押したタイミングが0.5秒くらい遅くなることがあります。<br>
他にも、押したこと自体が認識されなかったり、<br>
もう離したキーが押しっぱなしと見做されてしまったりします。</p>

<p>単純に onkeydown と onkeyup でキーイベントを受け取ってフラグを書き換え、<br>
各キーのフラグを setInterval で20ミリ秒の間隔で canvas に描画するだけのプログラムでテストしてます。</p>

<p>他のページでも同様の現象が発生しました。<br>
（というより、それで気づいて調べてしてみたんです）</p>

<p>このような現象について、何かご存知の方はいらっしゃいませんか？</p>
<!-- {% endraw %} -->
