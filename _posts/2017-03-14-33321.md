---
layout: post
title: ページングで使用するデータを取得するため、LIMIT と OFFSET を使用したいのですが、全体件数を割り出すためには事前にSQLを実行するしかない？
date: 2017-03-14 14:27:18
categories: php mysql
---
<!-- {% raw %} -->
<p><strong>ページングで使用するデータを取得するため、LIMIT と OFFSET を使用したいのですが、<br>
LIMIT と OFFSET を決めるためには、最初に全体件数を取得する必要があると思います</strong></p>

<hr>

<p><strong>Q.1回のSQLで処理することは出来ない？</strong><br>
・「たくさん結合しているSQL」なので出来れば1回で済ませたい場合でも、全体件数を取得するためには最初にSQL実行するしか手はないのでしょうか？</p>

<p><strong>処理の流れ</strong><br>
・最初に件数を取得するためだけにSQL文を実行して全体件数を取得し、そこから割り出した、LIMIT と OFFSET を使用し、実際にデータを取得するしかない？<br>
・結局、同じSQLを2回実行せざるを得ない？</p>

<hr>

<p><strong>追記</strong><br>
・Google検索のようなイメージです</p>

<blockquote>
  <p>FITSTへ 前へ 5 6 7 8 9 10 11 12 13 14 次へ LASTへ</p>
</blockquote>

<p>・データはMySQLへ格納している前提<br>
・例えば、500件データを格納している内のSELECT結果が200件だった場合、1ページ表示数に応じて分割して取得<br>
・1ページ表示数10件と指定した場合は、全部で200ページに分割して表示</p>
<!-- {% endraw %} -->
