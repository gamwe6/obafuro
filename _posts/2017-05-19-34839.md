---
layout: post
title: "bitの初期化は「0代入」と「^(XOR)演算」どちらが速い？"
date: 2017-05-19 11:20:23
categories: c++
---
<p>bit演算について色々調べてみると、<a href="https://ja.wikipedia.org/wiki/%E3%83%93%E3%83%83%E3%83%88%E6%BC%94%E7%AE%97" rel="noreferrer">Wikipedia</a>でこのような文を発見しました。</p>

<blockquote>
  <p>多くのアーキテクチャでは、ゼロという値をロードしてレジスタに格納するよりもXORを行う方がCPUクロックサイクルを消費せず、また命令長も短いためメモリを節約できる。</p>
  
  <p>同じレジスタを指定したXOR命令を実行して同じレジスタに戻すことでその内容をゼロにすることができる。</p>
</blockquote>

<p>例えば、</p>

<pre><code>unsigned int hogeBit;
</code></pre>

<p>という変数があるものとし、色々bitを弄った後であるとすると、</p>

<pre><code>hogebit = 0;
</code></pre>

<p>よりも</p>

<pre><code>hogeBit ^= hogeBit;
</code></pre>

<p>のほうがbitの0化のメモリの負担が少ないと述べていると認識しています。<br>
ここでいう「多くのアーキテクチャ」というのがいつまでの時代のものを指すのかいまいち把握できてはいませんが、これは現在でも有効な手法なのでしょうか。</p>

<p>「有効」というのは「差が多かれ少なかれ負担が少ない」という解釈でお願いいたします。</p>

<p>よろしくお願いいたします。</p>
