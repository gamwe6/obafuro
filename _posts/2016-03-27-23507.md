---
layout: post
title: イベントリスナーの登録の入れ子か存在チェック
date: 2016-03-27 13:38:37
categories: javascript 可読性 デザインパターン
---
<p>タイトルの通りでどちらが一般的でどういった使い分けを本当はするのかを教えてください。<br>
下のfooとbarのイベントは自由で勝手なタイミングに起きるものとします。</p>

<ol>
<li>fooイベントが発生すると処理Aを行う。このときCを作成する。</li>
<li>barイベントが発生すると処理Bを行う。このときCを使う。</li>
</ol>

<p>Cが存在しないと処理BがおかしくなってしまうのでCの存在を保証したいです。そこで次の二つのどちらかを自分は今まで気まぐれで使っていました。</p>

<ul>
<li>処理AでCを作成するまで、barイベントに処理Bを登録せずにおく</li>
<li>処理Bの最初でCがあるかどうかを確認し、なければ処理を行わない</li>
</ul>

<p>前者は無駄な確認処理がありません。後者は可読性が高いような気がします。<br>
どちらを使うのが一般的なのでしょうか？それとも別の解決法があるのでしょうか？</p>
