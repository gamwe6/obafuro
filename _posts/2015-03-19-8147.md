---
layout: post
title: ＬＡＮカード２枚差し時に、同一ＩＰアドレスのサーバーと通信する方法に関して
date: 2015-03-19 14:24:35
categories: .net http network socket tcp
---
<p>こんにちわ！</p>

<p>windows環境で、.NetのHttpClient 、Socket で、 <br>
サーバーと通信する際に、 <br>
送信元の自分のIPアドレスを指定したいんですが、 <br>
どうしたらよいでしょうか？ </p>

<p>どういう状況かといいますと、</p>

<p>PCには、２枚 LANカードが刺さっており、 <br>
それぞれ別のネットワーク1、2につながっています。 <br>
サーバーA、サーバーB のIPアドレスはそれぞれ、 <br>
同一で、固定で変更することができません。 </p>

<p>■ネットワーク図</p>

```
○サーバーA(192.168.1.2) 
|※ネットワーク1 
LANカードA(192.168.1.5) 
○PC 
LANカードB(192.168.1.6) 
|※ネットワーク2 
○サーバーB(192.168.1.2) 
```

<p>このとき、ネットワーク1,2のサーバーA,Bとそれぞれ通信をおこないたい考えです。 <br>
単純な相手先のIPアドレス指定では、 <br>
どちらか一方のサーバーとした通信ができません。 </p>

<p>方法として、送信するLANカードを指定することができればよいみたいで、 <br>
送信したいネットワークにつながっている自分のＬＡＮカードのＩＰアドレスを指定すると、 <br>
そのＬＡＮカードから送信することは PINGで、送信元IPアドレス指定でできることがわかりました。 </p>

```
ping -s 192.168.1.5 192.168.1.2 
```

<p>だと、サーバーA 、 </p>

```
ping -s 192.168.1.6 192.168.1.2 
```

<p>では、サーバーBに送信することができていることがわかっています。 </p>

<p>すいませんが、よろしくおねがいします。</p>
