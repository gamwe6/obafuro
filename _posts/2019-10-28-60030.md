---
layout: post
title: "Windows Server 2012R2で2つのプロトコル（NFS,SMB）のファイル共有を共存させる方法"
date: 2019-10-28 01:15:10
categories: windows solaris
---
<h3>本質問で使用する環境</h3>

<ol>
<li>Windows Server 2012R2 (NFS,SMBを使用し、ファイル共有用サーバーとして使用)</li>
<li>Solaris Server (NFSにより1のサーバーをマウント)</li>
<li>Windows Server (Windows ファイル共有にて1のサーバーのファイルを取得できるようにする)</li>
</ol>

<h3>実現したいこと</h3>

<p>Windows Server2012R2で以下に記載するようなファイル共有を行い、2.3のサーバーから共有ディレクトリにファイルを作成した際にファイルをどのサーバーからもアクセスできるようにしたい</p>

<p>ディレクトリにトリ構造は以下のようになっています。</p>

<p>C:\TEST1\TEST1_1\</p>

<ul>
<li>このTEST１のフォルダ以下のパスをNFS共有で2のサーバーに共有。</li>
<li>TEST1-1のディレクトリをWindowsファイル共有によって3のサーバーに共有します。</li>
</ul>

<h3>試したこと</h3>

<p>2.のサーバー側からTEST1をマウントし、そのディレクトリに再帰的に全権限を付与（chmod -R 777）、その後1のサーバーよりTEST1-1のプロパティの共有タブより3.のサーバーがWindows ファイル共有で使用するユーザーのフルコントロール権限を与えたところ2.のサーバー側から確認できる権限が700に変更されていた。また,2のサーバーで作成されたファイルに3.のサーバーはアクセスができなかった。</p>

<p>分かりづらい点だらけだと思いますが、ご回答宜しくお願い致します。</p>
