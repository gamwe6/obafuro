---
layout: post
title: "tidyrで連番データにデータクリーニング"
date: 2017-06-26 13:56:50
categories: r tidyverse
---
<p>Rのtidyrでデータクリーニングをしたいと考えています。</p>

<p>データはラベルが付いていないものを読み込んだのでV1~V1998となっており、型はデータフレームで名前はdfです。</p>

<pre><code>v1,v2,v3,...,v1998
1,13,23,...,32
2,14,26,...,32
4,14,27,...,38
5,...
...
354,243,543,...,657
</code></pre>

<p>のようにv1に時間がはいり、V2~はそれぞれの人のデータとなっております。<br>
これを</p>

<pre><code>time,data
1,13
2,14
4,14
....
354,243
1,23
2,26
....
</code></pre>

<p>のように縦に並べたいと考えています。timeにV1の値が入り、dataにV2~の値が入る形です。</p>

<pre><code>df %&gt;% tidyr::gather(key =time,value = data,df[,2:1998])
</code></pre>

<p>などとやってもエラーが出てしまいます。<br>
どう対処すればよいでしょうか？<br>
よろしくお願いします。</p>

<p><strong>追記</strong><br>
tidyrでないパッケージ利用でも構いません。（スピードが実用に耐えられればですが…）</p>
