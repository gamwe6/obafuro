---
layout: post
title: 何故.NET Framework(CLR)は仮想スタックマシンを採用したのでしょうか？
date: 2017-04-22 06:15:23
categories: .net
---
<!-- {% raw %} -->
<p>特にCLRは構造体のようなコピーコストの高い機能がありますが、スタックマシンは一般にコピー回数が増えがちかと思います。<br>
今でこそJITコンパイラが成熟したおかげでこのあたりの技術選択がそこまでクリティカルにはならないと思いますが、コピーコストを抑える意味でもレジスタマシンを採用したほうが自然に思えました。<br>
実際に、Luaは確か5.0からコピーコストを嫌ってレジスタマシンに再実装したと記憶しています(LuaはTagged Poinetrのようなハックを嫌ったため即値でさえヘッダを含むとか(うろ覚え))。<br>
MSや開発者の言質があれば最高ですが、推測でも大変ありがたいのでご意見いただければと思います。</p>
<!-- {% endraw %} -->
