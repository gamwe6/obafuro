---
layout: post
title: SQLのGROUP BYを使った複数SELECTの仕方について
date: 2016-11-26 11:46:29
categories: sql
---
<!-- {% raw %} -->
<p>「各地域毎の一番購入されている商品コードとその購入数、及び地域コードを併せて抽出する」<br>
という処理を行おうとしているのですが、</p>

<p><strong>「テーブル1」<br>
商品コード(CHAR),購入数(INT),地域コード(CHAR)</strong></p>

<p>SELECT 商品コード,<br>
　　　　MAX(購入数),<br>
　　　　地域コード<br>
　　FROM テーブル1<br>
　　GROUP BY 地域コード</p>

<p>とすると商品コードをGROUP BYのところに入れてくださいというようなエラーが返ってしまいます。<br>
しかしGROUP BYに入れてしまうと出てくる結果がとても多くなってしまい、求めている結果が出せません。</p>

<p>ちなみに、<br>
SELECT --商品コード,<br>
　　　　MAX(購入数),<br>
　　　　地域コード<br>
　　FROM テーブル1<br>
　　GROUP BY 地域コード<br>
とすると実行でき、各地域ごとのMAX(購入数)と地域コードは表示できます。<br>
この結果にMAX(購入数)に対応した商品コードも合わせて表示するにはどうしたらいいでしょうか？ご教授頂けると幸いです。</p>
<!-- {% endraw %} -->
