---
layout: post
title: Spring web.xmlのerror-pageを正常に動かす方法について
date: 2018-02-23 08:33:18
categories: spring
---
<!-- {% raw %} -->
<p>SpringMVCの勉強で例外ハンドリングを勉強しています。<br>
ExceptionHandleメソッドでは正常に表示されていたエラー画面が、なぜかweb.xmlのerror-pageでは正常に動作せず、HTTP 500のページが表示されてしまいます。</p>

<p>HTTP 500のページが表示されているので、error-pageで指定したlocationを表示しようとしてると思うのですが、なぜか内部エラーとなってしまい原因がわからない状態です。<br>
どのような対処をすればよいのでしょうか・・・？</p>

<p>例外を発生させるメソッド</p>

<pre><code>@RequestMapping(method=RequestMethod.POST, params="send2")
public String output2(@RequestParam String text) throws Exception{
    System.out.println("TEST******"+text);
    throw new Exception();
}
</code></pre>

<p>ExceptionHandlerメソッド</p>

<pre><code>@ExceptionHandler
public String handleException(Exception e) {
    return "error/systemError";
}
</code></pre>

<p>web.xml</p>

<pre><code>&lt;error-page&gt;
    &lt;exception-type&gt;java.lang.Exception&lt;/exception-type&gt;
    &lt;location&gt;/WEB-INF/jsp/error/systemError.jsp&lt;/location&gt;
&lt;/error-page&gt;
</code></pre>

<p>※configureViewResolvers</p>

<pre><code>public void configureViewResolvers(ViewResolverRegistry registry) {
    registry.jsp("/WEB-INF/jsp/", ".jsp");
}
</code></pre>
<!-- {% endraw %} -->
