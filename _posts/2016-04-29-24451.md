---
layout: post
title: "Unityアプリでスクリーンキャプチャした画像が、iOS機種によって挙動がことなる"
date: 2016-04-29 08:59:27
categories: ios unity3d
---
<p>Unityで作成中のアプリ内に、スクリーンショットを保存する機能を実装しています。<br>
スクリーンショットは、以下の流れで作成しています。</p>

<p>1.　Texture2D.ReadPixels() &amp; Apply()で、読込&amp;テクスチャを生成。<br>
2.　EncodeToPNG()で、byteデータを取得。<br>
3.　2で取得したbyteデータをファイルに書き込み。</p>

<p>画像ファイルは生成できているのですが、<br>
iOSの機種？によって、挙動が異なる状況に遭遇しました。</p>

<p>具体例：<br>
　・iPhone6で正常の向きの場合、iPhone5では上下が逆になる。</p>

<p>　・上下を反転させる処理を組み込んだ場合、<br>
　 iPhone6で逆向きになり、iPhone5では、正常の向きになる。</p>

<p>サードパーティのライブラリ等は利用しておらず、UnityのAPIのみです。<br>
また、アプリ内で、機種による分岐処理は含んでいないため、何が原因なのかがわからない状況です。</p>

<p>問題を引き起こしている原因、または解決方法等などを教えていただけないでしょうか？</p>

<p>動作環境<br>
・Unity 5.3.4  (ただし、記憶にあるかぎり、実装当初（2015/11頃)のバージョンから発生済）<br>
・Mac</p>
