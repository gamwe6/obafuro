---
layout: post
title: 0バイトのファイルたちのみを定期的に削除するシェルスクリプト
date: 2017-11-06 13:25:20
categories: unix solaris
---
<!-- {% raw %} -->
<p>以下のようなフォルダ構成があります。</p>

<pre><code>/var/tmp/組織コード/log
</code></pre>

<p>このlogディレクトリ配下に0byteのファイルがたくさんあり、それを全て定期的に削除したいと思っています。<br>
また、同ディレクトリにはそれ以外のファイルやフォルダも入っていて、それらは絶対に削除してはいけないものです。</p>

<p>以下のようなコマンドを考えたのですが、なにか懸念される点はあるでしょうか？</p>

<pre><code>find /var/tmp/*/log -size 0c -exec rm {} \;
</code></pre>

<p>いろいろ調べたのですが、Unix系は初心者のため、これで妥当かどうか不安なのです。<br>
環境はSolaris11で、bashです。<br>
「組織コード」の部分を固定値にしてコード数分コマンドを書けば確実だとは思いますが、組織コードが増えたり変わるたびにシェルにもメンテが必要になるので、イマイチだと思っています。</p>

<p>詳しい方、ぜひアドバイスしていただけないでしょうか。<br>
よろしくお願いします。</p>
<!-- {% endraw %} -->
