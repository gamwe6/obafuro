---
layout: post
title: 指定した通りに配列の要素を書き換えたい
date: 2017-07-17 12:06:21
categories: python アルゴリズム
---
<p>二次元配列の要素を、別の配列のデータに従って入れ替えたいです。</p>

<p>今、1つの配列に縦5横6の二次元配列があり、配列(array)の中身は全て "." で埋まっています。つまりarrayは</p>

```
array = [
  [".",".",".",".",".","."],
  [".",".",".",".",".","."],
  [".",".",".",".",".","."],
  [".",".",".",".",".","."],
  [".",".",".",".",".","."]  # ←①
]
```

<p>となっています。</p>

<p>この "." を <code>str_array</code> 配列の数字に従って書き換えたいです。たとえば <code>str_array</code> が</p>

```
str_array = [[1, 1, 0], [1, 3, 2], [3, 3, 1]]
```

<p>のときを考えます。この <code>str_array</code> は要素を3つもっています。</p>

<ul>
<li>最初の <code>[1, 1, 0]</code> はarrayの最後のブロック（①で示したもの）を書き変えます。

<ul>
<li><code>[1, 1, 0]</code> の 0 は <code>[".",".",".",".",".","."]</code> の左から0番目の場所を表し、1, 1 は縦横1つずつの "." を書き換えることを示します。</li>
<li>これによって、最後のブロックが <code>["#",".",".",".",".","."]</code> になるということです。</li>
</ul></li>
<li><p>次の <code>[1, 3, 2]</code> は左から2番目の "." を書き換えます。今 array は</p>

```
array=[
    [".",".",".",".",".","."],
    [".",".",".",".",".","."],
    [".",".",".",".",".","."],
    [".",".",".",".",".","."],
    ["#",".",".",".",".","."]
]
```

<p>という状態であり、一番下のブロックの左から2番目が空いているので、縦1横3で "#" を敷き詰め、下のように書き換わります。</p>

```
array=[
    [".",".",".",".",".","."],
    [".",".",".",".",".","."],
    [".",".",".",".",".","."],
    [".",".",".",".",".","."],
    ["#",".","#","#","#","."]
]
```</li>
<li><p>最後の <code>[3, 3, 1]</code> は左から1番目の "." を書き換えますが、一番下のブロックには縦横3つをもう入れ替えられないので、</p>

```
array=[
    [".",".",".",".",".","."],
    [".","#","#","#",".","."],
    [".","#","#","#",".","."],
    [".","#","#","#",".","."],
    ["#",".","#","#","#","."]
]
```

<p>と array を書き換えます。</p></li>
</ul>

<p>最終的に、</p>

```
array=[
    [".",".",".",".",".","."],
    [".","#","#","#",".","."],
    [".","#","#","#",".","."],
    [".","#","#","#",".","."],
    ["#",".","#","#","#","."]
]
```

<p>を出力させたいです。</p>

<p>これを行えるようなアルゴリズムとしてfor文をまず思いつきました。次にスタート "." を入れ替えられるように <code>4 * 6 + 1</code> という風に <code>(縦幅-1) * 横幅 + スタートの順番</code> という式を使うのではと思いましたが、これらをどう組み合わせればいいのかわかりません。特に "." が既に埋まっていて "#" になっている時とそうでない時で処理が違います。このプログラムはどのように書けますか？</p>

<p>今の断片コードですが、</p>

```
for i in range(len(str_array))
    str_array[0][i] * str_array[1][i] + x
```

<p>(<code>x</code>はスタートの順番）と書きました。</p>
