---
layout: post
title: Webサーバx2、NFS、PHP、MySQL状況下で排他的処理を実現するには？
date: 2018-03-05 10:29:22
categories: php linux mysql
---
<!-- {% raw %} -->
<p>お世話になります。</p>

<p>現在以下の４台のサーバでシステムを組んでいます。<br>
・2台のWebサーバ（Linux。PHPの実行。１号機、２号機と呼称）<br>
・1台のNFSサーバ（各Webサーバと接続）<br>
・1台のMySQLサーバ（各Webサーバから接続）</p>

<p>このとき「片方のWebサーバでPHPの処理を実行中、<br>
もう片方で同じスクリプトが実行され、処理が重複しないようにするために<br>
処理を待機させる（もしくは断念させる）」ことは可能でしょうか。<br>
（排他処理）</p>

<p>当初、プロセスが動いているかで判断しようとしたのですが<br>
よく考えると１号機のプロセスを２号機で参照できないため<br>
プロセスのあり／なしで判別できないことが分かりました。</p>

<p>よろしくお願いします。</p>
<!-- {% endraw %} -->
