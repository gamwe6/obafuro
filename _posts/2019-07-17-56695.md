---
layout: post
title: サーバーで稼働させているファイル生成アプリのファイル生成先がローカルPCになる
date: 2019-07-17 02:20:54
categories: node.js nginx network
---
<p>お世話になります。<br>
サーバーとローカルPCのネットワークの関係についてご教示いただけないでしょうか？<br>
現在、nuxt.jsとfirebaseを使って<br>
とある書類の印刷アプリを開発しています。</p>

<p>nuxt.jsのservermiddlewareを使い本体アプリからpdfを生成するためのapiを生やしています。<br>
フォームに入力した内容をaxiosで/api/pdfへとpostし<br>
nuxtのstaticディレクトリ内へhoge.pdfのようにpdfファイルを生成する仕様としております。</p>

<p>アプリのhostは127.0.0.1としています。<br>
portは3100<br>
サーバーのOSはUbuntu 18.04.2 LTS<br>
webサーバーはnginxです。</p>

<p>サーバーでこのような形でアプリを稼働させている際<br>
ローカルPC上で<br>
127.0.0.1:3100で同様のアプリをテストで稼働させていると</p>

<p>pdfの生成先がローカルマシン上のnuxtのstaticディレクトリとなってしまいます。</p>

<p>私自身ネットワークはあまり詳しく無いのですが<br>
私の解釈では127.0.0.1というのはプライベートなipで<br>
外部のマシンと共有される事は無いはずだと考えているのですが違うのでしょうか？</p>

<p>サーバーの127.0.0.1で稼働しているアプリがなぜ<br>
ローカルマシンの127.0.0.1で稼働しているアプリに影響するのでしょうか？</p>

<p>ちなみにローカルの127.0.0.1で稼働するアプリを終了すると<br>
pdfはローカルマシン上はもちろん、サーバー側でもpdfは生成されません。</p>

<p>この辺りネットワークの仕組みとかどうなっているのでしょうか？<br>
ネットワークに詳しい方おられましたら<br>
ご教示お願い出来ますでしょうか？</p>

<p>よろしくお願いします。</p>
