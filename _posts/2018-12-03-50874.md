---
layout: post
title: socket通信とopengl、スレッド
date: 2018-12-03 15:34:17
categories: android socket opengl
---
<!-- {% raw %} -->
<p>初心者です。<br>
socket使ってuiスレッドとは別のスレッドでサーバーとtcp/udp通信してます。<br>
データがバンバン飛んできてクライアントのandroid側はそれを受け取ってリアルタイムで3dのopenglとか普通のandroid ui(textview)に反映したいわけです。<br>
イメージとしてはオンラインゲームとかカーナビみたいなのを想像してもらえればいいです。<br>
socketで受け取った値をhandlerでスレッド間通信して、グローバル変数に格納して、その値を使ってuiスレッドでsettextしたり、openglをdrawしてるわけなんですが、このやり方だとなんだかtextviewがバグった表示になっちゃうんです。<br>
グローバル変数に格納してるのが良くないのかopenglとsettextによる画面の更新周期(？)が上手くいってないのかさっぱりわからないのです。(トーシロなんでトンチンカンですいません。)<br>
別スレッドのsocketで受け取ったデータをuiスレッドに渡してtextviewとopenglの描画の両方に使う方法って普通どうやりますか？<br>
全然参考になる本とかサイトなくて質問しました。<br>
ソースみせられなくてすいませんがよろしくお願いします。<br>
あと、通信とかopengl系でおすすめの本とかあったら教えてください。</p>
<!-- {% endraw %} -->
