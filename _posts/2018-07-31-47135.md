---
layout: post
title: "Symfony4のFormで条件に合うものだけセレクトボックスに表示したい。"
date: 2018-07-31 11:25:09
categories: php symfony2 doctrine2
---
<p>初めて質問させていただきます。<br>
今までExcelで管理していたレンタルサービスの管理表をシステム化することになりました。<br>
社内案件と言うこともあり、Symfony4にて実装しようと思っているのですが、<br>
Formのセレクトボックスの扱い方に苦慮しています。<br>
データベースの全件を対象とするのであれば、</p>

<pre><code>$builder
  -&gt;add('物品リスト',物品リストType::class,[
    'class' =&gt; 物品リスト::class
    ,'choice_label' =&gt; 'name'
  ])
  -&gt;以下略
</code></pre>

<p>とすればいいのですが、この中から貸し出し可能なものだけをセレクトボックスに表示することが出来ません。<br>
物品リストは貸出リストとOneToManyで紐づいていて、貸出リストを持っていないのが貸出可能物品となります。<br>
物品リストのRepositoryにメソッドを追加して、貸出可能な物の情報だけを返すことは出来ているのですが、どうすればそれをFoamに組み込めるのでしょうか。<br>
どうぞよろしくお願いいたします。</p>
