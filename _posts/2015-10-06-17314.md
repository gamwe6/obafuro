---
layout: post
title: リバースプロキシを用いた場合のデータベースの扱い方
date: 2015-10-06 08:31:29
categories: mysql nginx database
---
<p>nginxを使って、リバースプロキシをして2つのWebサーバーをサブドメインでわけたいと考えています。</p>

<p>この場合データベースはどのように扱えばいいのでしょうか。ちなみに全て1つの物理サーバー内で構築しようと考えています。<br>
例えばこの場合データベースのインスタンス(MySQL等)を1つのポートで1台たちあげると、そのインスタンスを利用できるのは1つのWebサーバーのみとなってしまうと考えられます。</p>

<p>この解決方法として幾つか考えましたがどれがベストなのかわかりません。</p>

<p>①データベースインスタンスを2台立ち上げ、データの保管場所を同じにしてWebサーバごとに1台ずつアクセスする。</p>

<p>②1台のサーバではそもそもデータベースを共有できないので別のデータベースを使わなければならない。</p>

<p>③データベースごとに物理サーバをたてて、スイッチで接続する。</p>

<p>できれば1台のサーバないでできる方法を教えていただきたいです。また、リバースプロキシのベスト・プラクティスや構築パターンなどありましたら教えていただければ幸いです。</p>
