---
layout: post
title: 罫線で書かれたテーブルをhtmlに変換したいが…
date: 2016-02-03 07:43:03
categories: html アルゴリズム テキストファイル
---
<!-- {% raw %} -->
<p>お世話になります。</p>

<p>プレーンテキストで書かれた、下記のようなテーブルを、htmlに変換したいと思っています。<br>
特に言語は特定しませんが、正規表現の置換などを使用して、徐々にtableタグに落とし込んでいきたいと思っているのですが、流石に途中で頭が破裂しそうになりました。<br>
じっくりやればできるような気もしますが、できれば良いアイデアをいただければと思います。</p>

<p>単純にpreタグで強引に表示するのはNGです。<br>
やり方としては、『\n┌』を『\n＜table border="1"＞\n』に置換、『│』を『＜/td＞＜td＞』に<br>
置換…などといった感じで加工していく方法です。</p>

<p>良い方法をご存知の方、アイデアをいただければ幸いです。</p>

<p>こんな感じのテーブルです。</p>

<pre>
┌───────────┬───┬───┐
│ＳＺＡ１２５　　　　　│価格│\1,500│
├─────┬─────┴───┴───┴──────────────────────────────┐
│出力名称　│名称　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　│
├─────┼────────────────────────────────────────────┤
│別名１　　│Ａとか　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　│
├─────┼────────────────────────────────────────────┤
│別名２　　│Ｂとか　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　│
├─┬───┴────────────────────────────────────────────┤
│追│　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　│
│加│　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　│
│内│　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　│
│容│　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　│
├─┴────────────────────────────────────────────────┤
│┌────────────────────────────────────────────────┐│
││　　　　　メニュー　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　││
│├─────────────────────┬─┬───┬────────────────────┤│
││メイン　　　　　　　　　　　　　　　　　　│Ａ│　　１│パスタ　　　　　　　　　　　　　　　　  ││
││　　　　　　　　　　　　　　　　　　　　　│　├───┼────────────────────┤│
││　　　　　　　　　　　　　　　　　　　　　│　│　　２│ラザニア　　　　　　　　　　　　　　　　││
││　　　　　　　　　　　　　　　　　　　　　│　├───┼────────────────────┤│
││　　　　　　　　　　　　　　　　　　　　　│　│　　３│カレーライス　　　　　　　　　　　　　　││
│├─────────────────────┼─┼───┼────────────────────┤│
││セット　　　　　　　　　　　　　　　　　　│Ｂ│　　１│サラダセット　　　　　　　　　　　　　　││
││　　　　　　　　　　　　　　　　　　　　　│　├───┼────────────────────┤│
││　　　　　　　　　　　　　　　　　　　　　│　│　　２│コーヒーセット　　　　　　　　　　　　　││
││　　　　　　　　　　　　　　　　　　　　　│　├───┼────────────────────┤│
││　　　　　　　　　　　　　　　　　　　　　│　│　　３│食後のデザートセット　　　　　　　　　　││
│├─────────────────────┼─┼───┼────────────────────┤│
││大盛りサービス　　　　　　　　　　　　　　│Ｃ│　　１│ノーマル　　　　　　　　　　　　　　　　││
││　　　　　　　　　　　　　　　　　　　　　│　├───┼────────────────────┤│
││　　　　　　　　　　　　　　　　　　　　　│　│　　２│ラージライス　　　　　　　　　　　　　　││
││　　　　　　　　　　　　　　　　　　　　　│　├───┼────────────────────┤│
││　　　　　　　　　　　　　　　　　　　　　│　│　　３│ハーフ＆ハーフ　　　　　　　　　　　　　││
│└─────────────────────┴─┴───┴────────────────────┘│
└──────────────────────────────────────────────────┘
</pre>

<p>完全にとはいかなくても、八割くらい近づけたいです。<br>
よろしくお願いします。</p>
<!-- {% endraw %} -->
