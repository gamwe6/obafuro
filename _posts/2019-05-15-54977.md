---
layout: post
title: クロージャに [weak self] をつけていない場合、予期しないメモリを参照することはありますか？
date: 2019-05-15 12:10:57
categories: swift ios メモリ管理
---
<h1>前置き</h1>

<p><code>swift</code>でクロージャを書く場合に、<code>[weak self]</code>を付けていない場合、循環参照が起こりメモリリークしてしまう場合があります。<br>
メモリリークしているのは、解放されていないオブジェクトなので、すぐに<code>self</code>がどのオブジェクトを参照しているのかソースコード上わかります。</p>

<h1>質問</h1>

<p>今回の質問は、<code>[weak self]</code>を付けていない場合に、付けていないにも関わらず、クロージャ内に記載した<code>self</code>は解放されており、コールバックなどで<code>self</code>が参照された時点では、使用していたメモリ空間が別のものとして使用され、アプリ自体が落ちる場合があるか？（もしくは不正なメモリをアクセスしてしまうというところまではいかず、単純にnil参照で落ちるだけでしょうか？）という質問となります。</p>
