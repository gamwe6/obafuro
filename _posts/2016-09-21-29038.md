---
layout: post
title: "cakeでクエリのセットアップに詰まっています。（その月の最新の日にちのものを表示させたい）"
date: 2016-09-21 19:59:45
categories: php mysql cakephp
---
<p>こんにちは、cake初心者です。クエリの設定で詰まってしまいましたので質問させていただきます。</p>

<p>実現したいことは、以下になります。</p>

<h3><strong>その月の最新の日付のものを表示させる。</strong></h3>

<p>以下のようにカスタムクエリを書いています。</p>

<pre><code>$this-&gt;paginate = [
        'limit' =&gt; 20,
        'order' =&gt; array('date' =&gt; 'desc'),
        'group' =&gt; ['date' =&gt; 'month(date)']
    ];

$datasList = $this-&gt;paginate($this-&gt;model);
</code></pre>

<p>結果は以下のようになります。</p>

<p>日付<br>
2016年11月02日(一番日付が小さいもの)<br>
2016年10月01日(一番日付が小さいもの)<br>
2016年09月21日(一番日付が小さいもの)</p>

<h3>実現したいこと</h3>

<p>日付<br>
2016年11月05日(日付が最新)<br>
2016年10月05日(日付が最新)<br>
2016年09月30日(日付が最新)</p>

<h3>聞きたいこと</h3>

<p>・paginateの設定だけで、うまく日付が最新のものを表示できないかどうか。<br>
・他にもっと良いやり方があるか。</p>

<p>よろしくお願いします。</p>
