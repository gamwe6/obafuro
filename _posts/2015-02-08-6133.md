---
layout: post
title: プログラムで確保されるメモリについて
date: 2015-02-08 05:27:15
categories: c++
---
<!-- {% raw %} -->
<p>プログラムで確保されるメモリ領域には、スタック領域とヒープ領域があると思います。</p>

<p>スタック領域は関数内などで定義される変数によって確保される領域で、<br>
コンパイルをした時点でメモリの大きさが決まり、確保や解放もOS任せになります。</p>

<p>それに対してヒープ領域は動的確保(mallocとかnew)で確保される領域のことで、<br>
プログラマが解放しない限りそこに残り続けます。</p>

<p>ここで質問なのですが、(上の解釈が間違っている時はご指摘ください)<br>
例えば以下のコード(C++)があったとします。</p>

<pre><code>void Hoge()
{
    int hoge1 = 0;

    for( int i = 0; i &lt; 10; ++i ){
        hoge1+=i;
    }
}
</code></pre>

<p>ここで変数<code>hoge1</code>、for文内の変数<code>i</code>はどちらもスタック領域に確保されると思います。</p>

<p>また、変数<code>i</code>のスコープはfor文内のみで、ほかからはアクセス出来ません。<br>
質問というのは、for文を抜けた時点で、変数<code>i</code>はメモリ上には残るのでしょうか？</p>

<p>何が知りたいかというと、変数のスコープが小さければ小さいほど、<br>
メモリの節約になるのかということです。<br>
よろしくお願いします。</p>
<!-- {% endraw %} -->
