---
layout: post
title: ホームボタンを押下時してポーズされた画面がアプリに戻った時に解除されてしまう
date: 2016-11-04 01:20:31
categories: swift xcode spritekit
---
<!-- {% raw %} -->
<p>Xcode8、Swift3、SpriteKitでランアクションライクなアプリを作っています。<br>
ポーズボタンを実装し、プレイ中に</p>

<p>1、ポーズボタンを押下した際と<br>
2、ホームボタンや電源ボタンを押下した際に</p>

<p>isPausedを使って障害物を停止させ、タップを禁止しています。<br>
同時にtimer.invalidateによって障害物を出現させるタイマーを一時停止させ、<br>
再開ボタンを出現させて、ゲームを再開できるようにしています。</p>

<p>このうち2によってポーズされた場合、アプリアイコンをタップして再開した際、障害物の動きが止まっておらず、タップもできてしまいます。タイマーは正常に停止したままで、再開ボタンも出現しています。<br>
また、1によってポーズされたまま、ホームに戻ってアプリを再開した場合も同様の現象が起こります。</p>

<p>AppDelegateからNotificationCenterによって呼び出されたprintにより、ゲームを閉じようとした時、閉じた時、開こうとした時、開いた時のいずれの時点でも　self.isPaused = true であることを確認しています。</p>

<p>isPausedで停止された画面をアプリの再開時に動き出さないようにするにはどうしたらよいのでしょうか。</p>
<!-- {% endraw %} -->
