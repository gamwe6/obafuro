---
layout: post
title: "rubyの正規表現を扱う際の文字セットについて"
date: 2018-03-09 07:29:11
categories: ruby 正規表現
---
<p>rubyの正規表現を扱う際の挙動についてよくわからないことがあります。<br>
HTMLのパースをしているのですが、</p>

<pre><code>Regexp.new("スタックオーバーフロー")
=&gt; /スタックオーバーフロー/
Regexp.new("&lt;h1&gt;スタックオーバーフロー&lt;/h1&gt;")
=&gt; /&lt;h1&gt;\u30B9\u30BF\u30C3\u30AF\u30AA\u30FC\u30D0\u30FC\u30D5\u30ED\u30FC&lt;\/h1&gt;/
</code></pre>

<p>というような、上はUTF-8そのままで正規表現化できるのですが下の場合はunicodeがそのまま出てきてしまうという動きになっており、なぜこのようになるのかわかりません。<br>
理想としては</p>

<pre><code>=&gt; /&lt;h1&gt;スタックオーバーフロー&lt;\/h1&gt;/
</code></pre>

<p>という正規表現がほしいのですが、どのようにすればよいでしょうか？<br>
あまり文字コードや文字セットなどに詳しくないので見当ハズレなことを聞いているのかもしれませんが、よろしくお願いします。</p>
