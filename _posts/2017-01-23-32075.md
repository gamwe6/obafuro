---
layout: post
title: 複数のテーブルの参照を、一つのカラムで管理するためには？
date: 2017-01-23 06:14:53
categories: database データベース設計
---
<!-- {% raw %} -->
<p>たとえなのですが、ショッピングサイトを作っているとします。<br>
そして化粧品とゲームが買えるとします。<br>
また買った物の履歴を見れる機能もあるとします。</p>

<p>テーブルの設計をするとき、自分だとこのような場合は、<br>
履歴テーブル、化粧品テーブル、ゲームテーブル<br>
と作ります。</p>

<p>化粧品テーブルのカラムは<br>
id, 値段、材料<br>
ゲームテーブルのカラムは<br>
id, 値段、対応ハードウェアとします。</p>

<p>ただここで問題なのは履歴テーブルのカラムです。<br>
単純に考えるとこう考えました。<br>
id, 化粧品id, ゲームid, 時間</p>

<p>しかしこの構造には問題があります。<br>
化粧品idとゲームidのカラムはどちらか一つしか使われないため、後はnullが入ることになります。<br>
さらに、玩具や食品などを追加すると空のカラムが増大していきます。</p>

<p>どのように設計するのが良いでしょうか？ご回答よろしくお願いします。</p>
<!-- {% endraw %} -->
