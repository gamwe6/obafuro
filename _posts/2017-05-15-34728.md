---
layout: post
title: 0,1が格納されているunsigned char配列をbit列に直したい
date: 2017-05-15 11:57:16
categories: c++
---
<p>フラグの管理用に0, 1が格納されているunsigned char配列hogeがあるとして、この配列を元に「いづれかのフラグがたったらtrueを返す」様な関数をbit演算を駆使して作りたいと考えています。(bitを駆使したフラグ管理練習用なので「別にbit使わなくても...」は無しでお願いいたします)<br>
そこで、以下の様な関数を作成してみました。</p>

<pre><code>bool IsAnyFlag() const
{
    unsigned int flags = 0;
    for (int i = 0; i &lt; NUM; i++)
    {
        flags |= hoge[i] &lt;&lt; i;
    }
    return flags != 0;
}
</code></pre>

<p>しかしこれでは、一応正常に動きはしますが「for文内で1だったら速攻true返せば早くね？」という話になってしまい、bitに直している意味が無いように感じてしまいます。</p>

<p>では、unsigned char配列を一括でbit列に直せる方法があれば良いのではとも考えましたが、そのような方法は私が調べた限りでは無いようで頓挫しています。</p>

<p>あいまいな言葉で申し訳ないのですが、もっとスマートな方法はありませんでしょうか。<br>
よろしくお願いいたします。</p>

<p>余談ですがchar型が文字専用型ではないというのを最近知り「え！？　ちがうのぉ！？」と驚愕しております。</p>
