---
layout: post
title: MySQLのSQLにてグループ内で連番を付けたい
date: 2015-06-23 16:51:29
categories: mysql sql
---
<!-- {% raw %} -->
<p>MySQL 5.6を利用しています。</p>

<p>分析関数を持たないRDBMSのSQLでは、どのようなSQLを書くのが一般的でしょうか？<br>
一般的ではなくとも、解決できるSQLがありましたら教えてください。<br>
よろしくお願いいたします。</p>

<p>やりたいこと：</p>

<p>下記のテーブルがあります。</p>

<pre><code>ユーザID 作成日時
--------------------------
10012   2015-01-04
10010   2015-01-01
10011   2014-01-15
10010   2015-01-02
10011   2015-12-09
10010   2015-01-03
10012   2015-11-01
10011   2015-05-08
10012   2015-01-03
</code></pre>

<p>SQLで下記の結果を取得したいです。<br>
※「ユーザID」「作成日時」で昇順に並べかえて、<br>
　グループ内（同じユーザID内）で通番を付与</p>

<pre><code>ユーザID 作成日時   グループ内通番
-------------------------------
10010   2015-01-01 1
10010   2015-01-02 2
10010   2015-01-03 3
10011   2014-01-15 1
10011   2015-05-08 2
10011   2015-12-09 3
10012   2015-01-03 1
10012   2015-01-04 2
10012   2015-11-01 3
</code></pre>
<!-- {% endraw %} -->
