---
layout: post
title: nginx 正規表現でアクセスブロックしたい
date: 2016-02-18 02:19:17
categories: nginx
---
<!-- {% raw %} -->
<p>特定のドメイン（サーバー）からのアクセスが多いです。  </p>

<p>それをブロックしたいのですが、正規表現でクライアントホストを判定してブロックしていのです。 </p>

<p>試しに下の設定をしてみましたがまったくもって機能しません。 </p>

<pre><code>if ($hostname ~* compute\.amazonaws\.com$) {
    return 403;
}
</code></pre>

<p>正規表現でクライアントホスト名を判別してアクセス拒否する設定はできますか？  </p>
<!-- {% endraw %} -->
