---
layout: post
title: RubyのDate型で日付の差分を「□年◯ヶ月△日」で取得する方法
date: 2015-03-29 10:53:26
categories: ruby ruby-on-rails
---
<!-- {% raw %} -->
<p>現在、RubyのDate型を利用して2つのDate型インスタンスから、<br>
その差分の日数を「□年◯ヶ月△日」で取得する方法を考えいているのですが上手く行きません。</p>

<p>例) d1 = Date.new(2014,3,3), d2 = Date.new(2014,5,10)<br>
望んでいる出力<br>
    '0年2ヶ月7日' = date_difference(d1,d2)</p>

<p>結果はStringオブジェクトでなくても構いません。</p>

<p>現状はIntegerで日数の差分を取得を取得しています。（上の例の場合：68日）<br>
ですが、そこから上手く年、月、日に変換する事ができていません。<br>
主に日数の差が1月以上ある際に、月数を出すために、その月の日数（30,31,28など）によって除数が変わるためアルゴリズムが複雑になってしまうという問題があります。</p>

<p>上記ような理由があり、期待する値をシンプルに求めるためにDate型の機能を使用できればと思っています。<br>
なにか思い当たる節がある方がいらしゃったら教えていただけると幸いです。<br>
また,Date型を使用しなくてもスマートに書ける方法が思いつく方がいましたら、そちらでも構いません。</p>
<!-- {% endraw %} -->
