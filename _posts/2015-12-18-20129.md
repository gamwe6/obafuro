---
layout: post
title: 配列から特定式で表したインデックスの要素だけを抜き出す方法
date: 2015-12-18 02:03:01
categories: ruby
---
<p>例えばインデックス表す式を<code>3n-2</code>としたときに、その式に適合するインデックスの要素だけを配列から抜き出したいといった場合があります。</p>

<pre><code>(概念的にはこんな感じ)
[a,b,c,d,e,f,g]  =&gt; [b,e] ※ 1 &lt;= n &lt;= 2 のとき
</code></pre>

<p>最初は以下のようなものを考えてみたのですが、これだと<code>n</code>の範囲をあらかじめ分かっていないと使えません。</p>

<pre><code>a = [:a, :b, :c, :d, :e, :f, :g]
b = []
1.upto(2){|n| b &lt;&lt; a[n * 3 - 2]}
#=&gt; 1
b.compact
#=&gt; [:b, :e]
</code></pre>

<p>泥臭いやり方でも、スマートなやり方でも、どちらでも良いので、<code>n</code>の範囲をあらかじめ考えずともできる方法を探しているのですが思いつきません。<br>
<a href="http://docs.ruby-lang.org/ja/2.2.0/library/_builtin.html" rel="nofollow">言語リファレンス</a>を見ながら考えてはみたのですが、試しているうちに混乱してしまいました。<br>
初歩的な質問かもしれませんが、どなたか良い解法がありましたら教えてください。</p>
