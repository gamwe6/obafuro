---
layout: post
title: "送付したトークンを回収するには"
date: 2018-06-27 09:09:35
categories: ethereum solidity
---
<p>Solidity + truffle + openzeppelinで開発しています</p>

<p>トークンを付与した上で、ある時期になったらトークンを回収したいと考えています</p>

<p>コントラクト上で送付したアドレスが把握出来ればループさせればと思いますが、アドレスを取得する方法がわかりません</p>

<p><code>balanceOf</code>にマッピングしているのでそこから取り出せればと思いましたが<code>for each</code>の類はないと理解しています</p>

<p>トークンが動く際にコントラクトの配列にアドレスを持たせるしか無いのでしょうか？</p>

<p>トークンに有効期限を持たせられればとも考えましたが実装方法が思いつかず<br>
出来ても使えるトークンと使えないトークンが混ざってわかりにくいのでよく無いなと</p>

<p>最悪はコントラクトを定期的にデプロイし直すしか無いのかなとも</p>

<p>ご意見いただければと思います</p>

<p>いただいた意見しかないと思っていたのでその実装で行います<br>
mainnetでのガスが確かに気になります</p>
