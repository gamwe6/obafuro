---
layout: post
title: 条件分岐して必要最小限度のカラムを更新した方が良い？　それともまとめて一気に更新した方が良い？
date: 2016-02-09 15:20:49
categories: php mysql
---
<p><strong>やりたいこと</strong><br>
・MySQLのUPDATE<br>
・条件によって、更新カラムが異なる<br>
・1レコードのA,B,Cカラムを更新する場合と、条件によってはDも更新する場合がある</p>

<hr>

<p><strong>質問1.最小限度のカラムを2回更新？　まとめて1回更新？</strong><br>
・条件に応じてA,B,Cカラム更新した後、条件によってはDも更新(つまり2回)すれば良い？<br>
・それとも、不要なレコードも含め、A,B,C,Dカラムをまとめて1回更新した方が良い？</p>

<p>・条件に応じて必要最小限の更新カラムを指定するイメージ</p>

```
if(){
  SQL文1 … 1レコードの内の幾つかのカラムを指定
}elseif{
  SQL文2 … 上記で指定しなかった幾つかのカラムを指定
}
```

<hr>

<p><strong>質問2.MySQLへは極力アクセスしない方が良い？</strong><br>
・PHPでもMySQLでも出来る場合は、アプリ側で処理した方が良いのでしょうか？<br>
・どちらで実装すべきかいつも迷います</p>
