---
layout: post
title: xargsの-Iオプションが機能しなくなる時がある
date: 2019-01-06 04:49:57
categories: bash
---
<p><code>find</code> で取得した長いファイルパスを <code>xargs</code> で取り扱いたいのですが、-Iオプションが機能しません。</p>

<p>ディレクトリ構造:  <br>
<a href="https://i.stack.imgur.com/1Gwhb.png" rel="nofollow noreferrer"><img src="https://i.stack.imgur.com/1Gwhb.png" alt="パスの長いディレクトリ構造"></a></p>

<p>実行したコマンド</p>

<pre><code>path="あいうえおかきくけこさしすせそたちつてとなにぬねのまみむめも/あいうえおかきくけこさしすせそたちつてとなにぬねのまみむめも/あいうえおかきくけこさしすせそたちつてとなにぬねのまみむめも"
echo "path: ${path}"
find "${path}" -mindepth 1 -maxdepth 1 -print0 | xargs -0 -n1 -P10 echo
find "${path}" -mindepth 1 -maxdepth 1 -print0 | xargs -0 -n1 -P10 -I {} bash -c "echo {}"
</code></pre>

<p>実行結果</p>

<pre><code>$ bash ./test.sh
path: あいうえおかきくけこさしすせそたちつてとなにぬねのまみむめも/あいうえおかきくけこさしすせそたちつてとなにぬねのまみむめも/あいうえおかきくけこさしすせそたちつてとなにぬねのまみむめも
あいうえおかきくけこさしすせそたちつてとなにぬねのまみむめも/あいうえおかきくけこさしすせそたちつてとなにぬねのまみむめも/あいうえおかきくけこさしすせそたちつてとなにぬねのまみむめも/.DS_Store
あいうえおかきくけこさしすせそたちつてとなにぬねのまみむめも/あいうえおかきくけこさしすせそたちつてとなにぬねのまみむめも/あいうえおかきくけこさしすせそたちつてとなにぬねのまみむめも/あいうえおかきくけこさしすせそたちつてとなにぬねのまみむめも
{}
{}
</code></pre>

<p>上記のように置き換えが機能せず、なぜか <code>{}</code> がそのまま表示されてしまいます。<br>
どうしてでしょうか？</p>

<p>実行環境はmasOS Sierra 10.12.6です。<br>
よろしくお願いいたします。</p>
