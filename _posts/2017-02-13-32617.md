---
layout: post
title: "更新系のAPIでクライアントがレスポンスの取得に失敗した場合の処理"
date: 2017-02-13 05:05:22
categories: 詳細設計
---
<p>現在ゲームのAPIを作っています。クライアントはスマフォで、サーバのAPIを叩く形です。</p>

<p>ここで、クライアントがサーバからのレスポンスを受け取れなかった場合の処理をどうするかで悩んでいます。</p>

<p>例えば、クライアントがガチャを引くAPIを叩いたとします。<br>
するとサーバ側は、クライアントのゴールドなどを引き抜き、ガチャの判定を行い、出たカードのレスポンスを返します。<br>
しかしここでクライアントの通信状況が悪く、このレスポンスを取得できなかったとします。</p>

<p>この時にクライアントはサーバでガチャの処理が失敗したのか、成功したのか。<br>
また成功したのならどんなカードがゲットできたのか。<br>
これらの情報をどうやって取得するのか？という問題が発生すると思っています。</p>

<p>これはガチャのみならず全ての更新系の通信に言えることだと思います。<br>
どのようにすればこの問題を解決できるでしょうか？<br>
ご回答をいただけると幸いです。</p>
