---
layout: post
title: "各レコードに対する過去直近７日間のデータ集計"
date: 2018-03-15 18:32:27
categories: sqlite
---
<p>SQLで各レコードの過去直近７日間のデータを集計したいです。<br>
使用DBはSQLite3です。<br>
具体例だと</p>

<p>日付　　　　|  歩数　<br>
     -----------------------<br>
2018-01-01　| 6000<br>
2018-01-02　| 5500<br>
2018-01-03　| 200<br>
2018-01-04　| 9700<br>
2018-01-05　| 1100<br>
2018-01-06　| 5000<br>
2018-01-07　| 800<br>
2018-01-08　| 3600<br>
2018-01-09　| 6000<br>
2018-01-10　| 0</p>

<p>というデータに対して</p>

<p>日付　　　　|  過去１週間の平均歩数　<br>
     -----------------------</p>

<p>2018-01-08　| 3187<br>
2018-01-09　| 3700<br>
2018-01-10　| 3771</p>

<p>のように集計がしたいです。（2018-01-01から2018-01-07の集計はできてもできなくてもよいです。）</p>

<p>この集計を１つのSQLで書けないでしょうか。</p>
