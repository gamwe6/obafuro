---
layout: post
title: C#のメモリ使用量について
date: 2019-04-22 08:59:09
categories: c# .net
---
<p>C#のWindowsフォームアプリケーションを作っています。<br>
ビルド環境はVisual Studio 2010です。</p>

<p>数百件のバッチ処理を行っており、<br>
LocalReportによる画像帳票の作成や、<br>
WPFによる画像変換を行っています。</p>

<p>処理件数に応じて使用メモリ（プライベートワーキングセット）が増えていきます。<br>
ハンドル数、ユーザーオブジェクト数、GDIオブジェクト数は増えません。</p>

<p>メモリリークの可能性もあるかと思い、<br>
処理件数とメモリの利用状況をログに取りました。</p>

<p>すると、200件程度までは処理件数に応じてメモリを消費していきますが、<br>
800MBぐらいで頭打ちになり、そこからは使用メモリ量が増えません。</p>

<p>このような場合、メモリリークを疑うべきでしょうか。<br>
それともヒープ領域が空いている場合は、<br>
なるべくメモリを使おうとしていると解釈すべきでしょうか。</p>
