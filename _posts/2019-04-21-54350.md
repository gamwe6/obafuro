---
layout: post
title: Pythonの配列の作り方の違いによる挙動の変化について
date: 2019-04-21 00:32:01
categories: python array
---
<!-- {% raw %} -->
<p>Pythonで隣接行列を表現しようとしたら２次元配列が期待と異なる挙動をしてしまったため、どういう理由でこういう挙動になったのか？どうするのがよいのか？の二点を質問させてください。</p>

<h3>やりたいこと</h3>

<p>無向グラフを隣接行列で表現したい。<br>
リンクが有るところは1で、ないところは0にしたい。<br>
最初にノードの数がわかるので、0で２次元配列Aを初期化したい。<br>
初期化の方法で下記のAのような方法をとった。</p>

<h3>挙動</h3>

<pre><code>A = [[0] * 3] * 3
# A = [[0, 0, 0], [0, 0, 0], [0, 0, 0]]

試しに1つだけリンクを追加してみる
A[0][1] = 1
# [[0, 1, 0], [0, 1, 0], [0, 1, 0]]

</code></pre>

<h3>期待する動作</h3>

<pre><code>A[0][1] = 1としたら、
[[0, 1, 0], [0, 0, 0], [0, 0, 0]]
となると期待
</code></pre>

<h3>(ちなみに)</h3>

<pre><code>B = [[0,0,0],[0,0,0],[0,0,0]]
として同じことをやると
# [[0, 1, 0], [0, 0, 0], [0, 0, 0]]
となってくれて期待通りに動いてくれます。
が、これだとノードの数がわかっても動的に隣接行列を初期化できないためこの方法はとりたくない。
</code></pre>

<p>よろしくおねがいします。</p>
<!-- {% endraw %} -->
