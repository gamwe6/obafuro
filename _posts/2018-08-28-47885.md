---
layout: post
title: スレッドセーフなバッファを各監視インスタンスに持たせた.NET C++/CLIフォームの設計
date: 2018-08-28 11:21:32
categories: c++ .net c++-cli
---
<p>マルチスレッドで動作するログ監視ツールの作成を考えています。<br>
監視インスタンスがひとつの場合の全体像として</p>

<p>[.NET Form]&lt;->[C++/CLI wrapper]&lt;->[監視インスタンス+バッファ]&lt;->[ログファイル]</p>

<p>のようになっており、監視インスタンスが最大で16個となる見込みです。<br>
監視インスタンスの動作として<br>
(1)ログファイル1つを定期的にリードしてバッファに結果を書き込む<br>
(2).NETのFormで指定された処理を実行して結果をFormに返す<br>
のように考えています。<br>
(1)の処理は(2)とは別のスレッドで、常に実行されることを期待しています。</p>

<p>このようなツールにおいて<br>
・各監視インスタンスに1つの専用バッファをもたせる<br>
・専用バッファのスレッドセーフを保証する<br>
これらをどのように実装すればよいか教えていただきたいと思います。</p>

<p>環境は下記のとおりです。<br>
Visual C++ 2015<br>
.NET v4.5.2</p>

<p>よろしくお願いします。</p>
