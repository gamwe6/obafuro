---
layout: post
title: "railtiesがバージョン違いのせいか、LoadErrorが出てrailsコマンドが実行できない"
date: 2019-11-04 03:03:39
categories: ruby-on-rails ruby
---
<p>以下リンク先にある内容を実行した後、今回の問題に遭遇しました。</p>

<p><a href="https://qiita.com/zQmjRAb73seN5RM/items/ecb9e19ee8f3e9af6018" rel="nofollow noreferrer">rails sした時にalready initialized constant FileUtils::VERSIONとwarningが出てくる - Qiita</a></p>

<p><code>railties</code>を5.2.3にすれば解決できるのかと思い、<code>railties 6.0.0</code>の対象と思われるディレクトリ削除や対象のgemのアンインストールなどしてみましたが、結果は変わらず、上のようなエラーが出てしまいます。</p>

<p><strong>railsコマンド実行時に表示されたエラー</strong></p>

<pre><code>$ rails s
Traceback (most recent call last):
        1: from /Users/pc/.rbenv/versions/2.5.1/bin/rails:23:in `&lt;main&gt;'
/Users/pc/.rbenv/versions/2.5.1/bin/rails:23:in `load': cannot load such file -- /Users/pc/.rbenv/versions/2.5.1/lib/ruby/gems/2.5.0/gems/railties-6.0.0/exe/rails (LoadError)
</code></pre>

<p><strong>実行環境</strong> (ローカル)</p>

<p>Rails 5.2.3 <br>
Ruby 2.5.1</p>

<hr>

<pre><code>#!/usr/bin/env ruby
#
# This file was generated by RubyGems.
#
# The application 'railties' is installed as part of a gem, and
# this file is here to facilitate running it.
#

require 'rubygems'

version = "&gt;= 0.a"

if ARGV.first
  str = ARGV.first
  str = str.dup.force_encoding("BINARY") if str.respond_to? :force_encoding
  if str =~ /\A_(.*)_\z/ and Gem::Version.correct?($1) then
    version = $1
    ARGV.shift
  end
end

if Gem.respond_to?(:activate_bin_path)
load Gem.activate_bin_path('railties', 'rails', version) #23行目
else
gem "railties", version
load Gem.bin_path("railties", "rails", version)
end

</code></pre>

<p><strong>Gemfile</strong></p>

<pre><code>source 'https://rubygems.org'
git_source(:github) { |repo| "https://github.com/#{repo}.git" }

ruby '2.5.1'

# Bundle edge Rails instead: gem 'rails', github: 'rails/rails'
gem 'rails', '~&gt; 5.2.3'
# Use sqlite3 as the database for Active Record
gem 'sqlite3'
# Use Puma as the app server
gem 'puma', '~&gt; 3.11'
# Use SCSS for stylesheets
gem 'sass-rails', '~&gt; 5.0'

# CSSフレームワークとして追加
gem 'materialize-sass', '~&gt; 1.0.0'

# Use Uglifier as compressor for JavaScript assets
gem 'uglifier', '&gt;= 1.3.0'
# See https://github.com/rails/execjs#readme for more supported runtimes
# gem 'mini_racer', platforms: :ruby

# Use CoffeeScript for .coffee assets and views
gem 'coffee-rails', '~&gt; 4.2'
# Turbolinks makes navigating your web application faster. Read more: https://github.com/turbolinks/turbolinks
gem 'turbolinks', '~&gt; 5'
# Build JSON APIs with ease. Read more: https://github.com/rails/jbuilder
gem 'jbuilder', '~&gt; 2.5'
# Use Redis adapter to run Action Cable in production
# gem 'redis', '~&gt; 4.0'
# Use ActiveModel has_secure_password
# gem 'bcrypt', '~&gt; 3.1.7'

# Use ActiveStorage variant
# gem 'mini_magick', '~&gt; 4.8'

# Use Capistrano for deployment
# gem 'capistrano-rails', group: :development

# Reduces boot times through caching; required in config/boot.rb
gem 'bootsnap', '&gt;= 1.1.0', require: false

group :development, :test do
  # Call 'byebug' anywhere in the code to stop execution and get a debugger console
  gem 'byebug', platforms: [:mri, :mingw, :x64_mingw]
end

group :development do
  # Access an interactive console on exception pages or by calling 'console' anywhere in the code.
  gem 'web-console', '&gt;= 3.3.0'
  gem 'listen', '&gt;= 3.0.5', '&lt; 3.2'
  # Spring speeds up development by keeping your application running in the background. Read more: https://github.com/rails/spring
  gem 'spring'
  gem 'spring-watcher-listen', '~&gt; 2.0.0'
end

group :test do
  # Adds support for Capybara system testing and selenium driver
  gem 'capybara', '&gt;= 2.15'
  gem 'selenium-webdriver'
  # Easy installation and use of chromedriver to run system tests with Chrome
  gem 'chromedriver-helper'
end

# Windows does not include zoneinfo files, so bundle the tzinfo-data gem
gem 'tzinfo-data', platforms: [:mingw, :mswin, :x64_mingw, :jruby]


</code></pre>
