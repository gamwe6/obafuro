---
layout: post
title: U-BootでLCD表示を行いたい
date: 2018-12-14 04:46:49
categories: linux
---
<!-- {% raw %} -->
<h1>前提・実現したいこと</h1>

<p>i.mx6 dual core のボードを使用しています。<br>
Linuxのレベルでは表示が出来ているのですが、これをU-Bootレベルで表示したいと考えています。<br>
そのための設定がわかりませんので、お教え下さい。</p>

<h1>構成</h1>

<h2>LCD パネル</h2>

<ul>
<li>24bitパラレル信号駆動</li>
</ul>

<h2>ブートローダー</h2>

<ul>
<li>U-Boot</li>
<li>U-Boot では、 LCD 関連の信号が unused_pin 処理になっている。</li>
<li>GPIO の入力で 100K プルアップ設定されており、 H が出力されている。</li>
</ul>

<h2>OS</h2>

<p>・Linux<br>
・Linux 上で LCD 表示が出来ており、ソースコードもあります</p>

<h1>変更したい理由</h1>

<p>LCD パネルの仕様上、画像表示するまで、 DISP_CLK、H-SYNC、V-SYNC を L にしておく必要があります。これを守らないと、 LCD にゴミ表示がされます。</p>

<p>Linux の初期化を終えれば問題が解消されますが、 6 秒近くかかり、品質上の問題になります。</p>

<p>そこで、 U-Boot のレベルで LCD に DISP_CLK、H-SYNC、V-SYNC を印加したいと考えています。</p>

<h1>変更状況</h1>

<p>ピンの機能変更までは、ソースコードの解析から出来ました。DISP_CLK、H-SYNC、V-SYNC は、 IPU1 もしくは IPU2 で生成しています。</p>

<p>実際の LCD パネルの仕様に合わせて、 IPU 関連のどのレジスタに、どの様に設定したら良いのかがわかりません。</p>

<p>Linux のデバイスドライバーのソースから解析しようとしたのですが、なかなか理解が出来ません。</p>

<p>設定の参考になるような資料、もしくは Linux 上の、このあたりを参照にしたら良いというアドバイスが頂けたら有り難いです。</p>

<p>よろしくお願いします。</p>
<!-- {% endraw %} -->
