---
layout: post
title: ランキング集計のデータベース設計とカウントの取り方について相談
date: 2015-02-02 17:14:00
categories: mysql
---
<!-- {% raw %} -->
<p>ブログなどでよくある「今週の人気記事」のような機能を作りたいと考えています。<br>
ただ、プログラミング経験はまだ浅いので相談に乗っていただきたくて投稿しました。</p>

<p>現在僕の中でのイメージは以下のようになっています。</p>

<p>posts<br>
- id<br>
- title</p>

<p>view_counts<br>
- id<br>
- post_id<br>
- created_at</p>

<p>このようにして<code>view_counts</code>に次々とデータを挿入し、その数をカウントして集計するやり方しか思いつきません。<br>
このやり方で可能ではあると思うのですが、他にスマートで汎用性の高い設計はありますか?</p>

<p>また、カウントの取り方は1リクエストごとにデータベースを更新して大丈夫でしょうか。</p>

<p>賢いやり方や、考え方などを教えていただけると嬉しいです。</p>

<p>よろしくお願いします。</p>
<!-- {% endraw %} -->
