---
layout: post
title: Windowsでのキー入力の仕組みについて
date: 2019-04-21 04:53:40
categories: c++ windows-10
---
<!-- {% raw %} -->
<p>WindowsアプリケーションをC++で開発しています。</p>

<p>キーイベントを取得するには、まずはWM_KEYDOWNを取得。<br>
もっと早く知りたい場合は、グローバルフック。<br>
さらに早く知りたい場合は、KeyboardFilterDriverを開発...</p>

<p>このようにしてWindowsのキー入力について深堀してきたのですが、ハードからのキー入力をどのようにソフトで処理しているのか、一連の流れがつかめません。<br>
ハードからカーネル、ドライバ、ユーザーランド、ユーザーアプリケーション....といったキー入力の一連の流れを詳しく教えてはいただけないでしょうか。</p>

<p>目的は、ユーザーランド側（システムではない方）でいち早くキー入力を取得したいのです。<br>
ドライバ開発からすればシステムの一部としてキー入力を取得できるかもしれませんが、それではアプリケーションを利用できる層は限られています。（管理者でないといけない）<br>
なので、キー入力の仕組みをきちんと理解して、キー入力を取得できるようにしたいのです。</p>

<p>よろしくお願いします。</p>
<!-- {% endraw %} -->
