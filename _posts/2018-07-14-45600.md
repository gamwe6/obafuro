---
layout: post
title: "iOS/Objective-C(Swift)でWKWebViewの初期表示が遅い原因は？( ガワネイティブ、ハイブリッド)"
date: 2018-07-14 02:16:06
categories: swift ios objective-c wkwebview
---
<h1>質問</h1>

<ol>
<li>WKWebViewは、『生成⇒ロード⇒表示開始⇒表示完了』で数秒かかる処理はありますか？（約1～2.5秒）</li>
<li>WKWebViewは、『生成～表示～破棄』を繰り返す場合、初回生成のWKWebViewを再利用が『表示速度が速く・適切な方法』ですか？</li>
<li>ネット上で、WKWebViewの生成が遅い／WKWebViewのページロードが遅い等の情報がない。生成もロードも体感で一瞬が普通ですか？<br>
※表示するページの複雑さ・サイズに影響されるが</li>
</ol>

<h1>補足</h1>

<h2>条件・状態</h2>

<ul>
<li>iOSのWKWebViewを使用した「ガワネイティブ／ハイブリッド」のアプリ開発。</li>
<li>Objective-C(Swift)でWKWebViewを使用。</li>
<li>ネイティブのボタンタップで、WKWebViewでHTML(WEBページ)を表示／クローズ。</li>
<li>Yahooページ／"Hellow World!!"シンプルページ の表示速度を確認。</li>
<li>表示完了までに1.?秒～2.5秒かかる。</li>
<li>同じURLでも『アプリの起動繰り返し／操作繰り返し』で表示速度（表示時間）は毎回バラつく。</li>
<li>どのURLでも表示速度（表示時間）がバラつく。</li>
<li>表示のされかたは、真っ白な状態の上記時間後、パッと瞬間で表示され読み込んだ部分から表示されない。</li>
<li>アプリ内で、アプリ画面の画面遷移は一瞬でできており、WKWebViewの表示だけ1.?秒～2.5秒くらいかかる。</li>
</ul>

<h2>上記から、テストアプリ開発その１『ブラウザ アプリ』</h2>

<ul>
<li>ブラウザアプリを作った。</li>
<li>URLを入力 ⇒ 表示ボタンタップ ⇒ 一瞬でHTMLページが表示される。</li>
<li>その状態で何度やっても一瞬で表示される。<br>
※一瞬とは目視で測定不可能なほど速いこと。</li>
</ul>

<h2>上記から、予想。</h2>

<ul>
<li>WKWebViewは生成に1.?秒～2.5秒の時間がかかるのでは？<br>
※時間にバラつきがある理由はライブラリ内部で生成時に何かが？</li>
</ul>

<h2>上記から、テストアプリ開発その２『WKWebView再利用 アプリ』</h2>

<ul>
<li>生成したWKWebViewを再利用する為、生成処理は初回のみ。</li>
<li>初回のみ1.?秒～2.5秒の時間がかかるようになった。</li>
<li>二回目以降の表示は一瞬。＝ブラウザと同じ速度。</li>
</ul>

<h2>上記から、疑問。</h2>

<ul>
<li>WKWebViewの生成・表示が遅いという情報が見つからない理由は？<br>
（表示は速いとの情報多数あり。生成が速いや遅いとの情報なし。）</li>
<li>WKWebViewのプログラム／使用方法が違っている場合、生成／表示に『1.?秒～2.5秒の時間がかかる』が『正常に表示される』といったケースもあるのか？</li>
</ul>
