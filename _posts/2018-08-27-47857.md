---
layout: post
title: "IE11のwebsocketにおけるbinary送信について"
date: 2018-08-27 13:33:04
categories: javascript websocket binary
---
<p>IE11のwebsocketを使用して、以下の3つのファイルを分割して、送信しました。<br>
①全バイト0x00ファイル<br>
②全バイト0x70ファイル<br>
③全バイト0xFFファイル</p>

<p>①～③は全てサイズ100MBファイルです。<br>
FileReaderを使用して、1MBをarrayBufferとして読み込んで、websocketで送信。<br>
この読み込んで送信の流れを100回繰り返して100MB送信します。<br>
結果は以下のようになりました。<br>
②: 10秒<br>
①: 20秒<br>
③: 40秒<br>
何度試しても、同様の結果となりました。(誤差はあります)<br>
以下疑問点です。<br>
・なぜ同じファイルサイズであるのに、差がでてくるのか。<br>
・0x70のファイルはなぜ早いのか。</p>

<p>ちなみに、chromeでは、①～③のファイルはすべてほとんど変わらない時間で完了しています。<br>
いろいろとソースを漁ったりしてみましたが、原因がわからないので、どなたかご教授いただければと思います。</p>
