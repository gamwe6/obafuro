---
layout: post
title: "１からNまでの整数に対し、「約数の数がs個になる」のはいくつあるか調べるには？"
date: 2015-06-10 13:02:43
categories: ruby アルゴリズム
---
<p>n の約数の個数を d(n) と表すことにする。<br>
1から10までの整数に対し、<br>
d(n) = 1 となるのは1個、<br>
d(n) = 2 となるのは4個、<br>
d(n) = 3 となるのは2個、<br>
d(n) = 4 となるのは3個ある。</p>

<p>一般に、<br>
１からNまでの整数に対し、「約数の数がs個になる」のはいくつあるか調べるには<br>
どうすれば速く求まるでしょうか？</p>

<p>とりあえずなんの工夫もしていないコードをあげておきます。</p>

<pre><code>require 'prime'

N = 10 ** 2
h = {}
(1..N).each{|i|
  s = 1
  i.prime_division.map{|j| s *= j[1] + 1}
  h.key?(s) ? h[s] += 1 : h[s] = 1
}
p h
</code></pre>

<p>出力結果<br>
{1=>1, 2=>25, 3=>4, 4=>32, 6=>16, 5=>2, 8=>10, 9=>2, 10=>2, 12=>5, 7=>1}</p>
