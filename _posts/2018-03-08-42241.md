---
layout: post
title: "バイナリからデータをフォーマットを推測する"
date: 2018-03-08 14:51:10
categories: tcp binary
---
<p>下記リンク先は、ある投資用のアプリケーションの通信内容のバイナリのdumpです。</p>

<p>ここから意味のあるデータ(日経平均の値など)をparseしたいのですがどうすればいいのでしょうか?<br>
このアプリケーションではリアルタイムで価格などの変動する様子が表示されています。</p>

<p>おそらく、何かのフォーマット(msgpackやjsonbなど)にして送られていると思うのですが、何の形式なのか判別できません。</p>

<p>何の形式であるかわかればparseできるのですが・・・</p>

<p>fileコマンドも試してみましたがうまくいきませんでした。</p>

<p><a href="https://gist.github.com/anonymous/81b083fce661838032de25ca774178c7" rel="nofollow noreferrer">https://gist.github.com/anonymous/81b083fce661838032de25ca774178c7</a></p>

<h3>追記:</h3>

<p>このdumpは日経平均先物データの表示をしているときのデータです。<br>
このアプリケーションではデータの種類は株価、先物、FX、海外の市場の指標などいろいろと取得することができます。<br>
ただ、株価から先物などに表示を切り替える際に、そこそこ時間がかかっているのでもしかしたら現在表示されているものだけが来ているのかもしれません。</p>

<p>アプリから見える値ではありませんが、<code>0000004F</code>から<code>0000005F</code>にかけてasciiであらわすと<br>
<code>20180307.210053</code>となっており、このデータが送られた時間のようです。</p>
