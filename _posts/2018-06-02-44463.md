---
layout: post
title: "BPE (Byte Pair Encoding、バイト対符号化)の効率のいい実装について"
date: 2018-06-02 03:48:28
categories: アルゴリズム ヒープ 圧縮
---
<p>お世話になっています。さて厳密にはBPEではないと思いますが、類似のアイディアを文字列に適用したものがあります。</p>

<p>辞書に3つの単語があるとします（本番はもっと巨大な辞書を使います）</p>

<ul>
<li>我</li>
<li>喜欢</li>
<li>水果</li>
</ul>

<p>そして次の入力を取ります。</p>

<p>我喜欢水果</p>

<p>これを1文字ずつに分解します。</p>

<p>我 喜 欢 水 果</p>

<p>隣り合う2つの文字を連結して辞書引きをします。</p>

<ul>
<li>我喜</li>
<li>喜欢 &lt;- in the dic</li>
<li>欢水</li>
<li>水果 &lt;- in the dic</li>
</ul>

<p>辞書にあったものは1語とみなします。これを辞書引きできなくなるまで繰り返します。1回目のループで「我 喜欢 水果」を得ました。2回目は</p>

<ul>
<li>我喜欢 水果</li>
<li>喜欢水果</li>
</ul>

<p>となりますが、これらは辞書にない語ですので連結せずに終わります。結果的に「我 喜欢 水果」を得ます。</p>

<p>これのナイーブな実装はそう難しくありませんが、ヒープを使うと効率的に圧縮できると聞きました。効率のいい実装についてご存知の方がいらっしゃいましたらご教授いただけると幸いです。あるいは参考になる情報があれば教えてください。</p>

<p>よろしくお願いします。</p>
