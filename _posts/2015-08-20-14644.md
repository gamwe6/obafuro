---
layout: post
title: SocketIOの認証
date: 2015-08-20 01:14:50
categories: swift iphone node.js websocket socket.io
---
<!-- {% raw %} -->
<p>iPhoneアプリとNodeJS(SocketIO)でチャットのアプリケーションを作成している者です。</p>

<p>アプリ側からチャットサーバに接続するときに認証機能を導入したいと考えています。</p>

<p>サーバ側で下記のように実装しました。</p>

<pre><code>io.set('authorization', function (handshakeData, callback) {
    var token = handshakeData.query.token;

    checkAuthToken(token, callback);
});
</code></pre>

<p>しかし、アプリ側でtokenをどこに設定したら良いのか分からず困っています。</p>

<pre><code>var socket:SIOSocket! = nil

SIOSocket.socketWithHost("ServerUrl" , response: { (_socket: SIOSocket!) in
    self.socket = _socket

    println(self.socket)

    self.socket.onConnect = {() in
      println("connected")

    }
})
</code></pre>

<p>お知恵を拝借願えませんでしょうか?</p>

<p>(Server-side) · NodeJS (v0.10.26) - Socket.io@1.3.6</p>

<p>(Client side) · Swift1.6 - SIOSocket · Xcode6.4</p>
<!-- {% endraw %} -->
