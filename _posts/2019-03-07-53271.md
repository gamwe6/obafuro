---
layout: post
title: cron が sendmail で送ってくるローカルの mail について
date: 2019-03-07 08:30:50
categories: unix mail sendmail
---
<p>ローカルの mac や amazon linux 上のデフォルトの設定では、 cron の実行が失敗したときなどにおいては、 <code>sendmail</code> コマンドがインストールされている場合、それ経由で cron 実行ユーザーに対して mail を送るような挙動になると思っています。(そして、各ユーザーは <code>mailx</code> コマンドなどでそのメールの内容を確認できる)</p>

<p>この、「ローカルユーザーに対してメールを送る」という挙動について疑問がいくつか生じていて、おそらく一連の知識なのだろうけれども、そのソース情報を見つけられずにいます。具体的には:</p>

<ul>
<li>sendmail がローカルユーザーに対してメールを送る場合、「ローカルユーザー当のメール保存ディレクトリ・ファイル形式」を前提にして、今まで送られたデータを読み込んで、その末尾に今送られた新規メールを append するような動作になると思いますが、この「ローカルユーザー当のメール保存ディレクトリ・ファイル形式」に名前はついていますか？

<ul>
<li>具体的には <code>/var/mail/ユーザー名</code>に保存されることになると思っていますが、このファイル形式・保存場所の規約に名前はありますか？</li>
</ul></li>
<li>上記の「ローカルユーザー当のメール保存ディレクトリ・ファイル形式」は、おそらくローカルメールだけではなく、外部サーバーからのメール受信にも用いられるのかな、と思っていますが、この認識は正しいでしょうか。

<ul>
<li>もしくは、このディレクトリは、「ローカルユーザー間メール」のみに利用されるディレクトリでしょうか。</li>
<li>その場合、この「ローカルユーザー間メール受信」自体にプロトコル名称がついていそうですが、その名称などはありますでしょうか。</li>
</ul></li>
</ul>
