---
layout: post
title: "文字列で返されたハッシュ内の最大値を検索したい"
date: 2019-08-05 02:00:58
categories: ruby
---
<pre><code>hash = {"1"=&gt;"53.0", "3"=&gt;"50.30", "5"=&gt;"1.600", "7"=&gt;"63.0", "9"=&gt;"103.400"}
</code></pre>

<p>上記のような場合にvalueの最大値103.400を検索し、そのkeyの"9"を出力したいのですが上手くいきません。</p>

<p>以下のようにvalueを文字列から数値にしてmaxを求めてその値を検索すればいいかと思いましたが上手くいかずnilが返ってきます。</p>

<pre><code>hash = {"1"=&gt;"53.0", "3"=&gt;"50.30", "5"=&gt;"1.600", "7"=&gt;"63.0", "9"=&gt;"103.400"}
p hash1 = hash.values.map(&amp;:to_f)
p a = hash1.max.to_s
p hash.find{|k,v| v == a }
</code></pre>

<p>小数点以下の0の表記が問題なのかなと思いますが、求め方自体が無理やり感があるような気がします。<br>
他にも何か求め方があれば教えて頂きたいです。</p>
