---
layout: post
title: ID毎の開始地点と終了地点のデータから各地点毎でIDをカウントする方法
date: 2017-02-18 11:02:16
categories: sql
---
<p>以下のようなID毎の開始地点と終了地点のデータがあった場合、<br>
各地点毎での有効なID数をSQLで集計する方法を考えているのですが<br>
いまいちいい方法が思いつきませんどなたかよい方法を教えていただけないでしょうか？</p>

<p>ID毎の開始地点と終了地点のデータ<br>
ID,start,end<br>
1,0,3<br>
2,1,3<br>
3,2,3<br>
4,0,1<br>
5,1,2</p>

<p>地点毎でのID集計<br>
0地点:2人(1,4)<br>
1地点:4人(1,2,4,5)<br>
2地点:4人(1,2,3,5)<br>
3地点:3人(1,2,3)</p>

<p>※前提としては開始地点と終了地点は時間軸等の連続性あるものとします。</p>
