---
layout: post
title: sed で、セミコロンを使うとおかしくなる
date: 2016-08-09 11:05:50
categories: sed
---
<!-- {% raw %} -->
<p>sed で、テキストファイルの一部分を他のテキストファイルでもって置換するスクリプトを記述していました。その際、改行だと問題なく動作するが、セミコロンを使うとエラーになる事象に遭遇しました。</p>

<p>これは、何が起きているのでしょうか。</p>

<p>スクリプト: コメントアウト部分の方を利用するとエラー(<code>sed: -e expression #1, char 0: unmatched</code>{'`)になる</p>

<pre><code>#!/bin/bash

cat template.txt |
    #     sed '/TMPL/{r template-value.txt; d;}'
    sed '/TMPL/{
        r template-value.txt
        d
    }'
</code></pre>

<p>参考までに、 template.txt:</p>

<pre><code>abc
efg
TMPL
hij
</code></pre>

<p>template-value.txt:</p>

<pre><code>zzzz
zz
zzzz
</code></pre>
<!-- {% endraw %} -->
