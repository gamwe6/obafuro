---
layout: post
title: kubernetesの構築方法
date: 2018-12-15 15:04:09
categories: kubernetes
---
<!-- {% raw %} -->
<p>クラウド上でkubernetesによるインフラ構築を検討しています。</p>

<p>コンテナを3層に分け、パブリックセグメント、プライベートセグメントによるネットワークを作成した上で、webコンテナをパブリックセグメントに、アプリケーションおよびデータベースコンテナをプライベートセグメントに配置しようと検討しています。</p>

<p>そのような場合に、構成として、<br>
①2つのk8sによるクラスタをそれぞれパブリックセグメントとプライベートセグメントに分け、各クラスタ内でノードを作成し、クラスタを跨いで通信させるケース<br>
②１つのk8sによるクラスタにパブリックセグメント、プライベートセグメントを含ませ、ノードをパブリックセグメント、プライベートセグメントに分けて構築し、クラスタ内で通信させるケース<br>
③1つのk8sによるクラスタをプライベートセグメントのみでノードを構築し、Webコンテナを外部のロードバランサを使用するサービスtypeで、全てプライベートセグメント内で通信するケース<br>
の３パターンを考えています。</p>

<p>構築の容易さ、セキュリティの高さを考慮した場合、どのケースが最も良いケースとなるのでしょうか。<br>
また、①の場合、service名で通信できないため、どのようにクラスタ間通信すればよいのでしょうか。</p>
<!-- {% endraw %} -->
