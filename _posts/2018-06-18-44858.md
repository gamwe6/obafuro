---
layout: post
title: Pythonによるバッチ版Affineレイヤ（誤差逆伝播法）の実装方法について
date: 2018-06-18 12:45:54
categories: python 深層学習
---
<p>Pythonによるバッチ版Affineレイヤを実装に関して不明な点がございましたので、質問させていただきました（参考書籍：「ゼロから作るDeepLearning」, pp.150-152）。</p>

<p>以下のバッチ版Affineレイアにおけるバイアスに関する<br>
参考書籍での説明とソースコードについてご教示いただきたく存じます。</p>

<blockquote>
  <p>バイアスの加算に際しては、注意が必要です。順伝播でのバイアスの加算は、それぞれのデータ（１個目、２個目のデータ、・・・）に対して加算が行われます。そのため、逆電波の際には、それぞれのデータの逆電波の値がバイアスの要素に集約される必要があります。</p>
</blockquote>

<pre><code>db = np.sum(dY, axis=0)
</code></pre>

<p>なぜ渡ってきた値（dY）の和を計算しているか納得できませんでした。<br>
誤差逆伝播法の計算グラフにおいて、「+」ノードでは前から来た値をそのまま下位ノードへ渡すと認識しております。そのため、dYをそのまま下位ノードで渡すのことが自然な処理と考えておりました。</p>

<p>なぜバッチ版ではN行のデータであるdYの和を下位ノードへ渡しているのか<br>
ご教示頂きたく存じます。<br>
どうぞよろしくお願いいたします。</p>
