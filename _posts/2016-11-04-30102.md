---
layout: post
title: "「漢字《よみがな》」にマッチするパターン"
date: 2016-11-04 11:28:51
categories: 正規表現 vim
---
<p>Vim-KaoriYa 8.0.39 (64bit) を使用しています。</p>

<pre><code>　吾輩《わがはい》は猫《ねこ》である。名前《なまえ》はまだ無い。
</code></pre>

<p>のように漢字の後に括弧書きで読み仮名が書かれているShift_JIS（cp932）の文章があり、それをVimで</p>

<pre><code>　&lt;吾輩|わがはい&gt;は&lt;猫|ねこ&gt;である。&lt;名前|なまえ&gt;はまだ無い。
</code></pre>

<p>のように置換編集したいのですが、<code>漢字《よみがな》</code>にマッチするパターンがわからず困っています。</p>

<p>Vim-KaoriYaでは連続する漢字や平仮名、片仮名がそれぞれ１単語と見なされる（ように見受けられる）ので、<code>\&lt;.\{-1,}\&gt;《.\{-1,}》</code>で行けるかと思ったのですが、最短一致させているにも関わらず何故か</p>

<pre><code>吾輩《わがはい》
は猫《ねこ》
である。名前《なまえ》
</code></pre>

<p>の３つにマッチしてしまいます。</p>

<p>何故このような結果になるのでしょうか。正しくマッチさせるにはどのようなパターンにすれば良いでしょうか。</p>

<p>なお、読み仮名が振られている漢字の直前に別の漢字がある場合（<code>焼肉定食《ていしょく》</code>のような）は考えなくて良いものとします。</p>
