---
layout: post
title: Emacsでxとxに挟まれた空白を確認つきで削除したい
date: 2014-12-16 14:31:29
categories: emacs
---
<!-- {% raw %} -->
<p>Emacsで“ある文字A”と“ある文字B”に挟まれた“ある文字C”を、確認つき（query）で削除するコマンドを教えてください。</p>

<p>具体例として、「2つの“x”に挟まれた空白1つだけを削除する」ことにします。これを実行するコマンドを教えてください。</p>

<p>ここで、バッファが以下の内容となっているとします。</p>

<pre><code>x x x x y
</code></pre>

<p>望む結果は以下のとおりです。</p>

<pre><code>xxxx y
</code></pre>

<p>たとえば<code>M-% x x RET xx RET</code>を実行した場合は、<code>!</code>で全部置換しても当然以下のようになり、要件を満たしません。</p>

<pre><code>xx xx y
</code></pre>

<p>置換を2回実行するか、replace-search-functionを再定義するぐらいしか思いつかないのですが、よくあるシチュエーションで解がすでにあるのではないかと思ってお聞きします。</p>
<!-- {% endraw %} -->
