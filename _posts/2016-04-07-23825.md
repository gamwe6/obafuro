---
layout: post
title: "あいまい検索の部分一致について"
date: 2016-04-07 12:48:31
categories: php mysql
---
<p>%値%<br>
で部分的に一致したレコードを取り出せる LIKEを使った条件式についてです</p>

<p>現在PHPを使いMySQLからデータを取得する検索機能の基本の処理を書いています<br>
検索結果の取得まではうまくいってるんですが、表示がおかしいです</p>

<p>例えば「test1」というレコードがあったとして検索フォームに「t1」と入れると test1というレコードが返ってきてしまいます</p>

<p>原因は、なんとなく気づいたのが前方一致(%)と後方一致(%)で値を挟んでるから先頭と端の文字がマッチしてしまってるのでは？<br>
と思ってみたんですが・・・どうなのでしょうか？</p>

<p>以下がそのコードの一部分です</p>

<pre><code>$stmt = $pdo-&gt;prepare("select * from search where word LIKE :word");
$stmt-&gt;execute([(':word' =&gt; "%$word%"]);
</code></pre>

<p><code>$word</code>には$_POSTで取得した入力された値が入っています</p>

<p>実現したい事は</p>

<p>先頭と端の文字を入力したからといって一致しているレコード取り出さない事<br>
続いてる文字のみをマッチさせる事</p>

<p>です。お助けください</p>
