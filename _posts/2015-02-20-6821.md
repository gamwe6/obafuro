---
layout: post
title: Rails アプリでの、ユーザー種別による処理の切り分け方法
date: 2015-02-20 05:07:07
categories: ruby-on-rails
---
<p>Ruby on Rails に限定する必要はないのですが、実装方法で悩んでいます</p>

<p>ある中学校の、イベント情報のお知らせや生徒の情報などを扱う Web アプリで、メッセージ機能や掲示板なんかもある、よくある感じのやつです。</p>

<ul>
<li>校長先生</li>
<li>先生</li>
<li>保護者</li>
<li>生徒会長</li>
<li>生徒</li>
</ul>

<p>上記のようなユーザー種別があり、それぞれに対応する処理を切り分けなければいけません。</p>

<p>例えば、生徒のプロフィール画面には、</p>

<ul>
<li>氏名</li>
<li>生年月日</li>
<li>住所</li>
<li>趣味</li>
</ul>

<p>といった項目があり、これらのうち「住所」はログインしているユーザーが生徒アカウントの場合非表示にする、などです。 こういった、「ユーザー種別ごとに処理を分ける」という場合どのような方法を使うのが良いのでしょうか？</p>

<p>現時点では、</p>

<ol>
<li>ユーザー種別ごとにネームスペースを分け、それぞれコントローラーやビューを用意する</li>
<li>ユーザーごとのパーシャルを用意して、ビューの中に <code>case</code> 文を書いてレンダーするファイルをわける</li>
</ol>

<p>のどちらかかなー、と思ってますが自信がありません。お力をおかしくださいませ。</p>

<p><em>※ このWebアプリは架空のものです</em></p>
