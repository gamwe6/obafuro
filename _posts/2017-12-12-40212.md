---
layout: post
title: 単精度小数から倍精度小数に変換後の誤差
date: 2017-12-12 08:14:29
categories: 浮動小数点数
---
<p>小数の扱いについてご教授ください。</p>

<p>以下のレコードのvalueはSQL Serverのfloat(倍精度小数)です。<br>
valueは他のシステムでもつ単精度小数の値がSQL ServerのテーブルにINSERTされます。<br>
diffは30分前の値との差分です。</p>

<p>本来diffはすべて30になるべきなのですが、一箇所だけ29があります。<br>
それがなぜなのかご教授いただきたいです。</p>

<p>説明不足かもしれませんが、どうかよろしくお願いします。</p>

<p><em>Datetime,value,diff</em><br>
2017/12/4 8:00  398278.59375    <strong>30.09375</strong> <br>
2017/12/4 8:30  398308.59375    <strong>30.00000</strong> <br>
<strong>2017/12/4 9:00    398337.68750    29.09375</strong> <br>
2017/12/4 9:30  398367.68750    <strong>30.00000</strong> <br>
2017/12/4 10:00 398397.81250    <strong>30.12500</strong> <br>
2017/12/4 10:30 398427.81250    <strong>30.00000</strong> <br>
2017/12/4 11:00 398457.81250    <strong>30.00000</strong> <br>
2017/12/4 11:30 398487.90625    <strong>30.09375</strong> <br>
2017/12/4 12:00 398517.90625    <strong>30.00000</strong> <br>
2017/12/4 12:30 398548.00000    <strong>30.09375</strong> <br>
2017/12/4 13:00 398578.00000    <strong>30.00000</strong><br>
2017/12/4 13:30 398608.09375    <strong>30.09375</strong><br>
2017/12/4 14:00 398638.09375    <strong>30.00000</strong><br>
2017/12/4 14:30 398668.09375    <strong>30.00000</strong><br>
2017/12/4 15:00 398698.18750    <strong>30.09375</strong></p>
